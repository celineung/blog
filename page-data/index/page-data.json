{"componentChunkName":"component---src-pages-index-js","path":"/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"d4f74c5d-9599-5657-b983-ed002d57b2f3","frontmatter":{"category":"DATABASE","date":"2021-09-14","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUBBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIDBP/aAAwDAQACEAMQAAABdc/L5KSeR//EABoQAAICAwAAAAAAAAAAAAAAAAACARADERP/2gAIAQEAAQUCXKQySd1WtV//xAAZEQACAwEAAAAAAAAAAAAAAAAAAgETIRH/2gAIAQMBAT8BsTmxpex//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAISE1H/2gAIAQIBAT8Bg2lSn//EABkQAAIDAQAAAAAAAAAAAAAAAAARAQIgMv/aAAgBAQAGPwJTB0hVrj//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhQRAxUXH/2gAIAQEAAT8hYyj7Lm8XZubAPWXADYcf/9oADAMBAAIAAwAAABCYz//EABoRAAICAwAAAAAAAAAAAAAAAAERACExgZH/2gAIAQMBAT8QYR0sRNBcn//EABkRAQACAwAAAAAAAAAAAAAAAAEAESFRof/aAAgBAgEBPxChAw7Nk//EABsQAQACAgMAAAAAAAAAAAAAAAEAETFBUaHw/9oACAEBAAE/EFhR5ncJp7A6TKI7KWKSmk4Y+oLLn//Z","aspectRatio":1.5037593984962405,"src":"/blog/static/4dc8622b9e85403bd29dc98a9ff3de55/14b42/handshake-on-blue.jpg","srcSet":"/blog/static/4dc8622b9e85403bd29dc98a9ff3de55/f836f/handshake-on-blue.jpg 200w,\n/blog/static/4dc8622b9e85403bd29dc98a9ff3de55/2244e/handshake-on-blue.jpg 400w,\n/blog/static/4dc8622b9e85403bd29dc98a9ff3de55/14b42/handshake-on-blue.jpg 800w,\n/blog/static/4dc8622b9e85403bd29dc98a9ff3de55/d8343/handshake-on-blue.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"proprietes-acid","title":"Les propriétés ACID d'une transaction"},"excerpt":"Plusieurs interactions (lecture et/ou écriture) avec la base de données peuvent se dérouler durant une transaction. Pour s'assurer que la…","html":"<p>Plusieurs interactions (lecture et/ou écriture) avec la base de données peuvent se dérouler durant une transaction.</p>\n<p>Pour s'assurer que la transaction s'exécute de façon fiable même en cas de problème, quatre propriétés lui ont été identifiées: ce sont les propriétés ACID.  Ces propriétés définissent ce qu'il se passe lorsque la transaction se termine volontairement ou involontairement.</p>\n<p>Elle peut se terminer volontairement suite à l'éxecution de la commande <em>commit</em> (valider les changements effectués dans la transaction et les appliquer de manière permanente) ou la commande <em>rollback</em> (annuler les changements effectués dans la transaction pour retourner à l'état de la base de données avant le commencement de la transaction).</p>\n<p>La transaction peut aussi se terminer involontairement dans ces différents cas:</p>\n<ul>\n<li>le serveur est coupé, la transaction courante sera <em>rollback</em> à la reprise du serveur</li>\n<li>une nouvelle transaction a été commencée, la précédente est alors forcée de s'arrêter et sera <em>commit</em></li>\n<li>une modification du schéma a eu lieue dans la transaction (création de nouvelle table, d'index, de colonne, etc), la transaction courante sera <em>commit</em> et une nouvelle transaction commencera après la modifcation de schéma</li>\n<li>un deadlock a été détecté et la transaction identifiée comme bloquante, la transaction sera alors arrêté et <em>rollback</em></li>\n</ul>\n<p>Quelque soit la manière dont termine la transaction, elle doit respecter ces propriétés:</p>\n<p><strong>A pour Atomicité</strong></p>\n<p>La transaction s'effectue entièrement ou pas du tout. Si elle s'execute partiellement, alors il faut remettre la base de donnée à l'état initial (celle avant le début de la transaction): les changements ne sont pas visibles. En revanche, si la transaction termine (<em>commit</em>), les changements sont visibles.</p>\n<p><strong>C pour Cohérence</strong></p>\n<p>La base de donnée est dans un état cohérent avant et après la transaction.</p>\n<p>Par exemple si une transaction transfère de l'argent de A vers B, à n'importe quel moment où l'on requête la base de données, on ne devrait pas trouver la base de données avec A qui a perdu ses sous et B qui ne les a pas reçu.</p>\n<p><strong>I pour Isolation</strong></p>\n<p>Si plusieurs transactions ont lieues en même temps, elles doivent se dérouler indépendamment les unes des autres. Une transaction ne doit pas accéder aux changements effectués par une autre transaction tant qu'elle n'est pas terminée (<em>commit</em>).</p>\n<p><strong>D pour Durabilité</strong></p>\n<p>A la fin d'une transaction, si le serveur se coupe avant qu'une transaction ait pu être <em>commit</em> ou <em>rollback</em>, alors un <em>rollback</em> devra s'éxecuter lorsque le serveur redémarre pour s'assurer que les modifications ne soient pas visibles. Toutefois, si la transaction a été correctement terminée (<em>commit</em> appliqué), les modifications doivent rester visibles même si une interruption survient, quitte à rejouer la transaction.</p>"}},{"node":{"id":"fedfc12e-1606-5050-aba8-b27eee3d8e1d","frontmatter":{"category":"A11Y","date":"2021-06-14","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABY/cwqgRyz//EABoQAAIDAQEAAAAAAAAAAAAAAAECAAMRIhL/2gAIAQEAAQUCWk+mfIbFE3tLtLnr/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAaEAACAwEBAAAAAAAAAAAAAAARIQABEDKB/9oACAEBAAY/AmhBXsdjAOref//EABsQAAMBAQADAAAAAAAAAAAAAAABESFRYXGR/9oACAEBAAE/IdJNPvohSa1vgO1sasLTclH5PQNo/9oADAMBAAIAAwAAABAbP//EABcRAAMBAAAAAAAAAAAAAAAAAAABEWH/2gAIAQMBAT8QcNaQf//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QTwo//8QAHBABAQABBQEAAAAAAAAAAAAAAREAITFBUWHB/9oACAEBAAE/EHuBv0Qy2NRPcabIbpsX1wyACi/DEMcsYHU9YleiYhFr25//2Q==","aspectRatio":1.5037593984962405,"src":"/blog/static/22b523e78f6e212c6765761af4a672f2/14b42/planning-design-being-creative.jpg","srcSet":"/blog/static/22b523e78f6e212c6765761af4a672f2/f836f/planning-design-being-creative.jpg 200w,\n/blog/static/22b523e78f6e212c6765761af4a672f2/2244e/planning-design-being-creative.jpg 400w,\n/blog/static/22b523e78f6e212c6765761af4a672f2/14b42/planning-design-being-creative.jpg 800w,\n/blog/static/22b523e78f6e212c6765761af4a672f2/d8343/planning-design-being-creative.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"accessibilite-pour-les-dev","title":"L'accessibilité pour les devs"},"excerpt":"L'accessibilité web bénéficie à tous. Elle permet de rendre accessible un site internet pour le plus grand nombre de personnes, que ce soit…","html":"<p>L'accessibilité web bénéficie à tous. Elle permet de rendre accessible un site internet pour le plus grand nombre de personnes, que ce soit des personnes ayant des handicaps temporaires (ex: bras cassé) ou handicaps permanents (ex: aveugles), que ce soit des personnes qui naviguent sur des smartphones ou des ordinateurs, ou encore des personnes qui ont une connection 5G ou une connection lente, etc.</p>\n<p>En tant que développeur, il est donc de notre devoir de nous assurer de l'accessibilité du produit final.</p>\n<h2>Checklist du développeur</h2>\n<p>Je ne suis pas experte en accessibilité. Néanmoins, je comprends son importance et je me renseigne sur les moyens de rendre accessible une page web. Durant mon expérience chez <a href=\"\">Pix</a>, j'ai aussi contribué à améliorer l'accessibilité de quelques unes de ses pages.</p>\n<p>Je regroupe ci-dessous quelques éléments qui attirent désormais mon attention sur l'accessibilité d'un site:</p>\n<h3>1. HTML valide</h3>\n<p>La première étape consiste à vérifier que le HTML écrit a une syntaxe valide.</p>\n<p>N'hésitez pas à vous reférer aux documentations HTML ou au validateur <a href=\"https://validator.w3.org/\">W3C validator</a>.</p>\n<h3>2. Navigation</h3>\n<ul>\n<li>Navigation au clavier</li>\n</ul>\n<p>L'une des premières choses que je fais pour vérifier l'accessibilité d'un site est de vérifier la navigabilité au clavier. Que se passe-t-il lorsque l'appuie sur la touche de tabulation ? En appuyant successivement sur la touche de tabulation, je dois pouvoir naviguer sur les boutons d'actions et les liens. La navigation clavier est très importante car de nombreuses personnes en situation de handicap moteur utilisent la navigation clavier.</p>\n<ul>\n<li>Site responsive</li>\n</ul>\n<p>Le site doit être accessible aussi bien sur grand écran que sur petit écran, sans barre de défilement horizontal.</p>\n<ul>\n<li>Bouton vs Liens</li>\n</ul>\n<p>Avec le CSS, il est possible de styliser un lien comme un bouton et inversement. Alors respectons la sémantique HTML: un lien <code class=\"language-text\">&lt;a></code> permet d'accéder à une autre page web ou à un ancre, un bouton <code class=\"language-text\">&lt;button></code> déclenche une action. Si l'on veut ouvrir une popup, on utilisera un tag <code class=\"language-text\">&lt;button></code>. Si l'on veut rediriger vers la page d'accueil on utilisera un tag <code class=\"language-text\">&lt;a></code>.</p>\n<p>Utiliser correctement les tags HTML évite les mauvaises surprises aux utilisateurs. Si un utilisateur malvoyant utilise un outil de lecteur d'écran, cet outil lui signale un bouton mais qu'après avoir cliqué dessus il est redirigé sur une nouvelle page, l'utilisateur qui ne s'y attendrait pas pourrait être perdu.</p>\n<p>Pour aller plus loin: <a href=\"https://a11y-101.com/design/button-vs-link\">Différence entre bouton et lien</a></p>\n<ul>\n<li>Avoir des larges zones cliquables</li>\n</ul>\n<p>Parce que ce n'est pas simple de devoir cliquer sur une petite zone de texte, que ce soit avec la souris ou avec le doigt.</p>\n<h3>3. Structure</h3>\n<ul>\n<li>Titre unique de la page</li>\n</ul>\n<p>Chaque page doit avoir un titre unique, court et descriptif. En plus de contribuer à l'indexation d'une page (SEO), les personnes qui utilisent des outils d'assistance ont besoin de ce titre pour identifier le site web sans avoir besoin de naviguer dans son contenu.</p>\n<p>Pour aller plus loin: <a href=\"https://www.accede-web.com/notices/html-et-css/titre-de-la-page/renseigner-un-title-precis-sur-chaque-page/\">Renseigner un title précis sur chaque page</a></p>\n<ul>\n<li>Titres de la page</li>\n</ul>\n<p>Une page doit pouvoir être parcourue rapidement via ses titres. Nous le faisons visuellement en lisant \"les gros titres\" de la page. Les personnes avec des outils d'assistance peuvent de leur côté afficher listes des titres et accéder directement au contenu voulu.</p>\n<p>Exemple de structure de la page <a href=\"http://www.gouvernement.fr\">www.gouvernement.fr</a>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/90eea/web_a11y_for_devs_page_structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPElEQVQoz41S7W6CQBDk/R+rTU1s2j8mKoYD7w6ogFZsRL4OmGbXejEp2G4ymQsHw+zOOuvwCDfK4adnBFkBkZz5HH6WuK9hGPCfcqRU0FrhUpZo2xamba9srtw0DYwxVvQeYz9ylmIJXwTwPA+u60IqhdVqBaUUttstgiBAnuejbsZcO4t0gbW/5g9930dRFOyq/XFa17V1WlWV5a7rxh1WXYX5xxxhGFpIKRFFETNhv98jyzJ+RkzvkOioYGlKzKIXJEnCbcZxzNBaM5OjqRptuTQXvMZzFqC2SZRYCGFd9H3/K5DJUMxg8Bw9IdTXVjebDbul2U2JPVojDkVIj1M+fZ3ssB/Vo510jtUR79Ebr8hut8PhcLCgGVIIdKa7NE0n07WCTV9jFs+glWbR2+7RDG9M60RMd38JfgM7+E3h1rfuXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Structure de la page d&#39;accueil www.gouvernement.fr\"\n        title=\"Structure de la page d&#39;accueil www.gouvernement.fr\"\n        src=\"/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/fcda8/web_a11y_for_devs_page_structure.png\"\n        srcset=\"/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/12f09/web_a11y_for_devs_page_structure.png 148w,\n/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/e4a3f/web_a11y_for_devs_page_structure.png 295w,\n/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/fcda8/web_a11y_for_devs_page_structure.png 590w,\n/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/efc66/web_a11y_for_devs_page_structure.png 885w,\n/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/c83ae/web_a11y_for_devs_page_structure.png 1180w,\n/blog/static/13fa2d12df1e4c3aa8e03d601008ab33/90eea/web_a11y_for_devs_page_structure.png 2254w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>On remarque que sur cette page web la hiérarchie des titres est bien respectée. On commence bien par un titre de niveau <code class=\"language-text\">h1</code>. Les titres de niveau <code class=\"language-text\">h2</code> sont en dessous d'un <code class=\"language-text\">h1</code> et les <code class=\"language-text\">h3</code> sont bien en-dessous de <code class=\"language-text\">h2</code>.</p>\n<h3>4. Images et médias</h3>\n<p>S'ils véhiculent une information, les contenus visuels (images, vidéos, icônes, etc), ont besoin d'être décrit via l'attribut <code class=\"language-text\">alt</code>.</p>\n<p>Par exemple:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>graphe.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>90% de nos utilisateurs sont sur mobiles, 10% sont sur Desktop<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Ici, si l'utilisateur ne voit pas l'image et si l'attribut <code class=\"language-text\">alt</code> était absent, alors l'utilisateur aurait perdu une information. Ce texte est très utile: il sera interprété par les lecteurs d'écran, mais sera aussi affiché lorsque les images ne se chargent pas.</p>\n<p>Dans le cas contraire où l'image n'apporte aucune information et qu'elle n'est là qu'à titre décorative, alors son attribut <code class=\"language-text\">alt</code> doit être laissé vide:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image-décorative.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Pour apprendre à distinguer les images informatives des images décoratives, je vous invite à suivre ce guide de W3C: <a href=\"https://www.w3.org/WAI/tutorials/images/decision-tree/\">arbre de décision</a>.</p>\n<h3>5. Formulaire</h3>\n<ul>\n<li>Indiquer les champs obligatoires</li>\n</ul>\n<p>Pour aller plus loin: <a href=\"https://www.accede-web.com/notices/fonctionnelle-graphique/formulaires/indiquer-clairement-les-champs-obligatoires/\">Indiquer clairement les champs obligatoires</a></p>\n<ul>\n<li>Avoir un label sur chaque champ</li>\n</ul>\n<p>Un placeholder à l'intérieur d'un input ne sert pas de label car peu accessible aux outils d'assistances. Il nous faut pouvoir expliciter ce que correspond chaque champ de saisie.</p>\n<p>Visuellement nous pouvons avoir:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 586px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/e4450b6328c9613ba68981ffcf76717a/a76f4/web_a11y_for_devs_github_connection_page.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.62162162162163%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACNUlEQVQ4y6WSy27TQBSG/RiICngD9ggVUYkVi8IKVgUkJBCwYYO6YMGDtN0hsQFBJaReoLBAbdI0SRNCoiRN3HvS1Lc4Y3tmPI5/NOMoCiRig63P5/wzv0dn5ozmegFMuzvEsBx0ex7sbm+oZd7uGErLPGDhRHzKoZm2g0yuiEKpgnyxjO1sAdU9HZVaA7niL6R3dvGzXMVmegfZ3ZLy+TSEF/AEmkS5mFxUO7UYai2G/fMQ+oBmh0M/54k2QpXvG2Iwz9E4o3/Q7DBUTgLYhEGrtihM2wXQx/88LUegZVFoJybDXpvi0OQ4MBL2DVnxOAcGw5HJcWSyAUl+bHHU2zSp0AsoTIfA6vpDuoTC9TlcbwSfwyEMpxbFmUPRthNaI6imdEwbqUwWO/mColAqw3EJWCgQMD7sIOUhSMBRa/nYqvdQPPSQaRJkdYKcTlA+9lVzNGVWLWeKgHKlJ8F4CCEEhEhiFAn0B8gx+a8my4zjeOR443++/ThW/v4IUgsRJVuWHyH6iKLJ9KN4SKSY7AnDwYJyyzYhMEkP1gQ6roMz11bR6HUnekziwvX95GIX23XMfnqGO8vPx5DjD1fm8XjtNR6szOPe55dj3rvLL3D74xM8XX8D2yPQfhzmMbUwjctLNxWXBlEytXgDM+/nMLf6Crc+PMLVt7O4uDg99EmuLM3gwsJ1XHt3H+c9B5os+buewYaexoa+PcZaYwurjU2sN7bwtZnCt7/mpf7STGH7uKTO8Dfk++3yhBjJfQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Formulaire de connection de Github\"\n        title=\"Formulaire de connection de Github\"\n        src=\"/blog/static/e4450b6328c9613ba68981ffcf76717a/a76f4/web_a11y_for_devs_github_connection_page.png\"\n        srcset=\"/blog/static/e4450b6328c9613ba68981ffcf76717a/12f09/web_a11y_for_devs_github_connection_page.png 148w,\n/blog/static/e4450b6328c9613ba68981ffcf76717a/e4a3f/web_a11y_for_devs_github_connection_page.png 295w,\n/blog/static/e4450b6328c9613ba68981ffcf76717a/a76f4/web_a11y_for_devs_github_connection_page.png 586w\"\n        sizes=\"(max-width: 586px) 100vw, 586px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Implémenté avec un <code class=\"language-text\">&lt;label></code> . Notons ci-dessous que le label est ainsi lié à l'input via les attribut <code class=\"language-text\">for</code> et <code class=\"language-text\">id</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>login<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  Username or email address\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>login<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>login<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control input-block<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autocapitalize</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>off<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autocorrect</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>off<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autocomplete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>username<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autofocus</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>autofocus<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Pour aller plus loin: <a href=\"https://developer.mozilla.org/fr/docs/Web/HTML/Element/Label\">Élement label</a></p>\n<p>Dans certains cas, il se peut que nous ne voulions pas afficher à l'écran le label. Il faut alors que s'assurer que les outils d'assistance puissent décrire le champs. Imaginez si tous les champs de formulaires n'ont pas de labels, comment une personne malvoyante avec son outil d'assistance pourrait-elle distinguer un champ d'un autre ? Plusieurs solutions existent en passant du CSS à l'ajout de nouveaux attributs... Pour aller plus loin: <a href=\"https://www.w3.org/WAI/tutorials/forms/labels/\">Labelling Controls</a></p>\n<h2>Législation</h2>\n<p>L'État impose désormais un accès équitable au contenu public en ligne.</p>\n<p>Cela concerne non seulement les sites du public mais aussi du privé qui répondent à des besoins d’intérêt général, ou qui génèrent un chiffre d'affaire annuel de plus de 250 millions d’euros.</p>\n<p>Pour en savoir plus sur les types de contenu concernés: <a href=\"https://www.numerique.gouv.fr/publications/rgaa-accessibilite/obligations/#contenus-concern%C3%A9s\">Référentiel général d'amélioration de l'accessibilité – RGAA Version 4.1</a></p>\n<p>Pour être en conformité:</p>\n<ul>\n<li>\n<p>le site doit <a href=\"https://www.numerique.gouv.fr/publications/rgaa-accessibilite/methode-rgaa/criteres/\">suivre le référentiel d'amélioration de l'accessibilité (RGAA)</a></p>\n</li>\n<li>\n<p>ou sinon le site doit posséder une page de déclaration du niveau d'accessibilité atteint (\"Conformité totale\": 100% les critères du RGAA sont respectés, \"Conformité partielle\" ou \"Non-conformité\"). Pour en savoir plus sur ce que doit contenir cette déclaration: <a href=\"https://www.numerique.gouv.fr/publications/rgaa-accessibilite/obligations/#d%C3%A9claration-daccessibilit%C3%A9\">Déclaration d’accessibilité</a></p>\n</li>\n</ul>\n<p>En cas de non conformité aux exigences, les sociétés concernées risquent une amende fixée à 20 000 euros annuel par produit et par année.</p>\n<h2>Plugin Wave / Firefox Web Developer</h2>\n<p>Lors de mes développements, j'utilise les plugins Wave ou Firefox Web Developer pour m'aider à améliorer l'accessibilité des sites web.</p>\n<h3>Wave</h3>\n<p>Ce plugin disponible sur Chrome et Firefox permet d'avoir des informations sur l'accessibilité d'un site web.</p>\n<p>Je me positionne sur un site et j'active le plugin:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/22fba2510970244104674748083810d2/cab8c/web_a11y_for_devs_wave_screenshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 170.94594594594597%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAE70lEQVRIx61Wy3LiRhTl57LIIpVKvmWqUpVUUtlml00mm2yySqqcxJMZe2yPH2AwIMxb5iEhCQmBeCMkJEBIoJPqFsg4xpNNbtWpVnffPn27z+1uRThJxnWmjnieQ6PZQl0KwG1BvmuC/BSiDK6pPgFpI32RZLGBV6+T+OG3Am6ZIi5jCUTvGNwk0rhN3eNDNI5ilQfLiSHKtQbuC0Wks3kwuTxSuSJKtQbtizBlAd//msOPf7BgilVcXMco2U0ihet4ErFUhjpWGs2wzLIc/rxgcHSWxtF5GrfpLEpVHg+8hAhbb+DvKwbn8RyyJRbJ+wLSuRIyBRapbJHWSZlja3TAAy+iUJPw9k7EcULESVJERZBR4aUgQrKcXIlFrlxBOl+mYArs9ruE+1KF1rPlKl0W8S/VeDxwjyBtBOW6gIigtDGzFzCtOWZ2AGu+wHzp0DJoW8AipWXDtGwYMxtT0wphzCzqp3YHiCidHvbN9zfguDpq1Spsy8JkNIJuzXCc4fHTmypGwwE26zUOmW7MEJFUjUZjL5awFw7FYDSG2tEw0qcYjnVaCu0+SnwHw/EEE8PEdGbtRTmjkavdPiLJbAHvL6M4vYzi/VUMp5c3iCUzqDRklHdpUhdR5SXUxea2LqBUF2i5Q1AnaVNgcXxyjqvYLc6vYzh6c4Kzq+hWUSlMFaIkGUDquz6i+OP3VmWy5JW3Bt/WYS1W0E0LgtJBhRMgtjpoql1USKqwVTRVDcSfkxTwzRaklkZ9eEmBIKv0ZFFRNhsf0UIHK28D07Kow0ONpwQtrY9ckUU8yVAV5XYXbI1DlRdoH/Gp8iIakoKG3CYRdtBsSmi3ZEiSiN5gCCZXxHUsjoc6jyJbxc3tHRIpJsjXEotUJotEOkMnLbAVxJNpJJl7cKKCiEwj3MDz1vA8j2K1crF0HLiuR0HqjrPCynXhui5Wq1VQX7m033EcOm4w1gPC/8tGuvFI6AM0YW1Zxnw2w3Q6pdEQW6/XFMTc+RwrXYc9n2M8HtPI/JBw+jRC17YhvX4NQ9MgNpswDSMk3J0OR9NgMAwmkwny+TxdLg4R+n4wj71YYDyZYD6fh46EkPSTwcPRCFPTpNFpmgbLsj5O6CyX0HUdi8UibN/1keXpkwntN02TYn/iZ4TBQH/vovCfkR6yXd/BCImRNKIke3WCJ37+40SHCanKHlatKOzZFInEHQaDwaMoW0JiR5kP4GURqtIKJzxI6G88LHss5paJTkcL92efkHzL/Q60XpcK8zJhqLILWVFCst2SdoOI0lq7g66mUVECQv9jouBFIciu+hv/mSD/Kcq/B+xE+ZjPixGOTQeGYaLR4Onx2+0buTyIMdcPOPudgWVbqNfrYb4ePHpkooZmo631waTT4abvE0bf5vDXL3EY5hSpVIom+VPCdpdWyNns9XoYDgc0XXq9PjqahsFwiPXGp4TrdSCMMTOgqu2XlhwQkjuOKEuwWC6x9hxgQ24b78CubeA4y4DouSjdgxudb4xwfq9SnKQVvEspON2WpI08F89UnkwPPfRB56ufU/ji23N8+tUpPvv6jOLL7y7w+Tdn+OTVOwymi3DfdzYmFyx5ZLz1Gq7nhSAiNLsGcvwAJWH4BEVhiEpzjKXjPo5zPZpW/dEEEfKe7n4i90tJUdHqtKG0n0NW26iLCmqiQssdyPv9Dwui4bBox7fLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Résumé de l&#39;accessibilité de la page obtenu avec le plugin Wave\"\n        title=\"Résumé de l&#39;accessibilité de la page obtenu avec le plugin Wave\"\n        src=\"/blog/static/22fba2510970244104674748083810d2/fcda8/web_a11y_for_devs_wave_screenshot.png\"\n        srcset=\"/blog/static/22fba2510970244104674748083810d2/12f09/web_a11y_for_devs_wave_screenshot.png 148w,\n/blog/static/22fba2510970244104674748083810d2/e4a3f/web_a11y_for_devs_wave_screenshot.png 295w,\n/blog/static/22fba2510970244104674748083810d2/fcda8/web_a11y_for_devs_wave_screenshot.png 590w,\n/blog/static/22fba2510970244104674748083810d2/cab8c/web_a11y_for_devs_wave_screenshot.png 744w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Wave nous fournit instantanément un résumé de l'état d'accessibilité d'un site. En naviguant dans les différents onglets, Wave pointe les erreurs et donne des explications pour nous amener à les corriger.</p>\n<p>On retrouve sur Wave la structure des titres de la page, les problèmes de contrastes, les oublis d'attributs <code class=\"language-text\">alt</code>, <code class=\"language-text\">label</code>, etc.</p>\n<h3>Firefox Web Developer</h3>\n<p>En complément, j'utilise aussi l'addon Firefox Web Developer:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/2da90c2505436451a880c11808fdcedc/7e21b/web_a11y_for_devs_firefox_web_developer_screenshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJUlEQVQY0z2Ri27bMAxF/f//N6BIm2Tr4khyLEZPS3Jtn8LOugsQIM8lCQLslBmRZ8BaYRyFYRTMQ7iZ51Fbo9GD8JC954mIZ7QOcQnnE9ZFQsw4F7hcPun6QdAuo6xndIlSCxIzVxPR1mNFCLlQ2kJIE1oSdxvxuTGVRpgqy7qxK+dMN7jMxSR+PzKpLocxtYWziXyOmf5ZqF/rwUP54s8jv7hMvNYA2ytrbaZTNnJSgbMO+KkdRiwzb70/mI31ZwyX28GuQ8S4wrptbP9iV62VTkni7R44m4RyhWWF3BZ+3TwfOh7xc6HLMycVedcR4yvr/xNfmueZTo+ej164KuG9t4hPuJg53Sznu3BRwt/B4WM+HrD37Hz3XUjUWphKoZRCSolvEQLKr/8NvjkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Menu du plugin Firefox Web Developer\"\n        title=\"Menu du plugin Firefox Web Developer\"\n        src=\"/blog/static/2da90c2505436451a880c11808fdcedc/fcda8/web_a11y_for_devs_firefox_web_developer_screenshot.png\"\n        srcset=\"/blog/static/2da90c2505436451a880c11808fdcedc/12f09/web_a11y_for_devs_firefox_web_developer_screenshot.png 148w,\n/blog/static/2da90c2505436451a880c11808fdcedc/e4a3f/web_a11y_for_devs_firefox_web_developer_screenshot.png 295w,\n/blog/static/2da90c2505436451a880c11808fdcedc/fcda8/web_a11y_for_devs_firefox_web_developer_screenshot.png 590w,\n/blog/static/2da90c2505436451a880c11808fdcedc/efc66/web_a11y_for_devs_firefox_web_developer_screenshot.png 885w,\n/blog/static/2da90c2505436451a880c11808fdcedc/c83ae/web_a11y_for_devs_firefox_web_developer_screenshot.png 1180w,\n/blog/static/2da90c2505436451a880c11808fdcedc/7e21b/web_a11y_for_devs_firefox_web_developer_screenshot.png 1626w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>"}},{"node":{"id":"345bedee-7d77-536d-90c8-86ff57d9ba2e","frontmatter":{"category":"RÉSEAU","date":"2021-04-24","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAdAWuyaIlf/EABoQAAIDAQEAAAAAAAAAAAAAAAECABESAyL/2gAIAQEAAQUCdsxXmhOpo35VbH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAAARBR/9oACAEBAAY/AjYhT//EABwQAAMBAAIDAAAAAAAAAAAAAAABIRExQWFxgf/aAAgBAQABPyFK3flZBR+3J5CMXRrVQTs2f//aAAwDAQACAAMAAAAQjy//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCH/8QAFhEBAQEAAAAAAAAAAAAAAAAAACER/9oACAECAQE/ENqv/8QAHRABAAMAAgMBAAAAAAAAAAAAAQARIUFRMWFxgf/aAAgBAQABPxAIqy+Dh8hJo1E4D32xwQUlkamKptlr1AujnO/yXoZmfJ//2Q==","aspectRatio":1.492537313432836,"src":"/blog/static/70ddd7862574df3273be2d0d3e3653a2/14b42/desk-setup-with-motivational-poster.jpg","srcSet":"/blog/static/70ddd7862574df3273be2d0d3e3653a2/f836f/desk-setup-with-motivational-poster.jpg 200w,\n/blog/static/70ddd7862574df3273be2d0d3e3653a2/2244e/desk-setup-with-motivational-poster.jpg 400w,\n/blog/static/70ddd7862574df3273be2d0d3e3653a2/14b42/desk-setup-with-motivational-poster.jpg 800w,\n/blog/static/70ddd7862574df3273be2d0d3e3653a2/c49fb/desk-setup-with-motivational-poster.jpg 924w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"fonctionnement-dns","title":"DNS: que se passe-t-il sous le capot de ma requête web ?"},"excerpt":"Durant notre vie de développeur web, nous entendons forcément parler de DNS.\nNous savons qu'il se passe des choses derrière notre ordinateur…","html":"<p>Durant notre vie de développeur web, nous entendons forcément parler de DNS.\nNous savons qu'il se passe des choses derrière notre ordinateur lorsque nous requêtons <a href=\"https://google.fr\">https://google.fr</a> qui nous permettent d'accéder à notre page web. Pourtant, toute cette tambouille est cachée à nos yeux et nous pouvons accéder à <a href=\"https://google.fr\">https://google.fr</a> sans problème. Alors pourquoi s'y intéresser ?</p>\n<p>En tant que développeur, il arrive que nous ayons besoin de créer de nouveaux noms de domaines, ou d'en modifier. Certaines problématiques de réseaux peuvent survenir alors: URL web non accessible, un changement DNS non pris en compte... Connaître le fonctionnement du DNS peut nous aider à identifier ce qui pose problème dans le réseau.</p>\n<h2>DNS lookup de bout-en-bout</h2>\n<p>Examinons ensemble ce qu'il se passe lorsque nous requêtons une page, <a href=\"https://google.fr\">https://google.fr</a> par exemple. Dans ce cas, le nom de domaine est \"google.fr\".</p>\n<ol>\n<li>\n<p>Après avoir tapé l'url dans le <strong>navigateur</strong>, celui-ci va chercher dans son cache s'il connaît l'adresse IP associé à ce nom de domain. S'il ne la connaît pas, il va alors interroger le <strong>système d'exploitation</strong>. Si aucun des deux ne connait, alors le <strong>resolver DNS</strong> de notre fournisseur d'accès internet sera interrogé.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/0b9f44dda3336a325cf847ba6272f744/3d68f/dns_explained_local.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVQ4y42SiW6DQAxE+f+PrKqolSiEc+/zVUtCSoBEtbRag71je8YVQM6Z7b1a2zmsS6exV1aVxPUUs9ZirUEpQ9tZlPYFjhLe5u39B+AWvQSEEHdQxzTPCClJKT2BnIGtd5XSX9D7QIxx8UMM9H3/BLa30w7r1nL51nx+aZrOMs4WIQxKCHwIt+TNw1IwxESyM0k2h/GrmDIhJELIOOcZxhnvPNk5crlDeFT33jNNI9oYnLgS5voI+EqtEk7ek4wh38cu3K7Daa2W7wPgnugD6SEQlSKZkTB+E8cL5Eg/DAfAcqpXRD/5OZLFD8ga136glVz4XQXcinM68r7Lwq0YroihRSuDlxLuNOzfVO+2fgUsqxNjuqmbi8KW7ItwFt1r5lqeL/Y70L2VAtE5zKQRnV4KFQr+1eGZYFobJiFo246muTKM0/LvF3C0AkauDZNSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Recherche de l&#39;IP localement\"\n        title=\"Recherche de l&#39;IP localement\"\n        src=\"/blog/static/0b9f44dda3336a325cf847ba6272f744/fcda8/dns_explained_local.png\"\n        srcset=\"/blog/static/0b9f44dda3336a325cf847ba6272f744/12f09/dns_explained_local.png 148w,\n/blog/static/0b9f44dda3336a325cf847ba6272f744/e4a3f/dns_explained_local.png 295w,\n/blog/static/0b9f44dda3336a325cf847ba6272f744/fcda8/dns_explained_local.png 590w,\n/blog/static/0b9f44dda3336a325cf847ba6272f744/efc66/dns_explained_local.png 885w,\n/blog/static/0b9f44dda3336a325cf847ba6272f744/c83ae/dns_explained_local.png 1180w,\n/blog/static/0b9f44dda3336a325cf847ba6272f744/3d68f/dns_explained_local.png 2282w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>\n<p>Le resolveur DNS interroge alors son cache. S'il ne connait pas l'adresse IP associé au domaine, il va s'adresser à des serveurs DNS racines (appelés \"root\" en anglais).</p>\n<blockquote>\n<p>Les éléments mis dans le cache possèdent des TTL (time to live) qui indiquent pendant combien de temps ils sont valides. Passé ce délais, il faudra mettre à jour ces entrées du cache.</p>\n</blockquote>\n</li>\n<li>\n<p>Si <strong>serveur DNS root</strong> connaît l'adresse IP associé au nom de domaine google.fr, il le communiquera au résolveur qui remontera ensuite l'information à l'OS puis au navigateur.</p>\n<p>Dans le cas contraire, si le serveur DNS root connait l'adresse du serveur TLD .FR, il renverra cette adresse au résolveur, sinon le résolveur s'adressera à un autre serveur root.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/399715a7846671d0e7a40379bc420957/a9c1e/dns_explained_resolver_root.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPElEQVQ4y51T0ZKDIAzk//+t39CXU2wVFUQCCO4NXOnZaq93l5kMmQCbJVkYniy4AMk1sOLQ1vXFxs2YtRZEFs55WOdgrcM8GXi/wHufPeXSmRjjHbT4cxEmpcI4SvTDgI+qRs2b+1rVHJ0Q0POMYRyxLMtbxqwEqXpiFUKAcw5kbWaXQLZAaV8IAc45jDF7hlvqhz2LEVpKENE9dz6fcTqdME3TMeBDX14A+3mGvYEm5lrrB7Byn22TMQ2h7+GaBrau4bsOtqrg2har9whEMFojbIazm/KuSoxYlMrAxaNz30WJMA9D7uWWWYnZb/WVz5TVe8QQvmSU7q1rjpOzoz785AW4aFKRhSS7Z/iW3dPT4i3utMFF6b0O/wqaflbbdmiuLfjliuZyhSH6P2DSpRA9lJqglILoh/yjPgG8sP/pX9Zj1QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Requêter le DNS racine\"\n        title=\"Requêter le DNS racine\"\n        src=\"/blog/static/399715a7846671d0e7a40379bc420957/fcda8/dns_explained_resolver_root.png\"\n        srcset=\"/blog/static/399715a7846671d0e7a40379bc420957/12f09/dns_explained_resolver_root.png 148w,\n/blog/static/399715a7846671d0e7a40379bc420957/e4a3f/dns_explained_resolver_root.png 295w,\n/blog/static/399715a7846671d0e7a40379bc420957/fcda8/dns_explained_resolver_root.png 590w,\n/blog/static/399715a7846671d0e7a40379bc420957/efc66/dns_explained_resolver_root.png 885w,\n/blog/static/399715a7846671d0e7a40379bc420957/c83ae/dns_explained_resolver_root.png 1180w,\n/blog/static/399715a7846671d0e7a40379bc420957/a9c1e/dns_explained_resolver_root.png 2467w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Il existe 13 serveurs root dans le monde, nommé A, B, C... à M. Chaque serveur root est associé à une adresse: a.root-servers.net, b.root-servers.net, c.root-servers.net, etc. Ils sont au sommet de la hiérarchie DNS. À eux 13, ils connaissent tous les IP associés aux noms de domaine. Chaque serveur root est distribué à plusieurs endroits dans le monde, pour éviter d'avoir un seul serveur physique.</p>\n<blockquote>\n<p>Comment le résolveur trouve-t-il le serveur root ? Chaque résolveur DNS connait à son démarrage l'adresse des 13 serveurs root. Lors d'un lookup DNS, le résolveur commence par requêter le premier serveur root de la liste (k.root-servers.net par exemple). Si celui-ci n'est pas disponible ou ne possède pas l'information recherché, le serveur root suivant est requêté (f.root-servers.net par exemple).</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/35bb650012846adb8277525145f708f7/63208/dns_explained_root_server.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.21621621621622%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVQoz41R2Y6DMAzk/39vX4EHQNBoRTgTIAlMNd5NpFJV6kiWj/gYOxm+xHVdosN54adV2Lx/iUdk9wLqT0IczqH67bFY+5YvDe+NPg2I9jhNGIYBWg8IIbzlZnfazjkYY2CtTXrbNuz7juM4RC/LkmJ3Aomh916SlFLQWotNsIh+13USO89TmM3zLLG+71PjxFCOHQKMsRjHURj4/6MzmUWPh5J4BN/pUzgkfQrXoKzrCmv/WDGBqzPOIfFWtHkCvsWBsZbnoZ2RUVEUItM0CW2yqusaeZ6jLEtpQnBN+lVVJbZs1LYtmqaR7Z7xVHE9Bja8dwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Hiérarchie des serveurs DNS et TDL\"\n        title=\"Hiérarchie des serveurs DNS et TDL\"\n        src=\"/blog/static/35bb650012846adb8277525145f708f7/fcda8/dns_explained_root_server.png\"\n        srcset=\"/blog/static/35bb650012846adb8277525145f708f7/12f09/dns_explained_root_server.png 148w,\n/blog/static/35bb650012846adb8277525145f708f7/e4a3f/dns_explained_root_server.png 295w,\n/blog/static/35bb650012846adb8277525145f708f7/fcda8/dns_explained_root_server.png 590w,\n/blog/static/35bb650012846adb8277525145f708f7/efc66/dns_explained_root_server.png 885w,\n/blog/static/35bb650012846adb8277525145f708f7/c83ae/dns_explained_root_server.png 1180w,\n/blog/static/35bb650012846adb8277525145f708f7/63208/dns_explained_root_server.png 2105w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>\n<p>Le <strong>serveur TLD</strong> regardera ce que l'on appelle le nom de domaine de premier niveau (Top Level Domain), qui est \".FR\" dans notre exemple. Il provient du nom de domaine \"google.fr\".</p>\n<p>Le serveur TLD redirigera ensuite le résolveur vers les serveurs de noms faisant authorité (Authoritative Name Server). Dans notre exemple, il s'agit de :</p>\n<ul>\n<li>ns1.google.com</li>\n<li>ns2.google.com</li>\n<li>ns3.google.com</li>\n<li>ns4.google.com.</li>\n</ul>\n</li>\n<li>\n<p>Le résolveur requêtera alors un à un les Authoritative Name Servers ci-dessus jusqu'à trouver celui qui connaît l'adresse IP de google.fr.</p>\n</li>\n<li>\n<p>Une fois l'IP trouvée, le résolveur la stocke dans son cache. L'information est transmise à l'OS puis au navigateur qui enregistre aussi l'IP dans leur cache.</p>\n</li>\n</ol>\n<br>\n<p>Le schéma de fonctionnement obtenu devient:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/d15a9e1a30fa99182aedfe968a346ee4/0f729/dns_explained_global.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2klEQVQ4y4VUXY+jMAzk//+3Pleq1KfbaiUoFBLyYTvJnOxSdrnu6iKFhNgZ2+OBDmh4jVIK9D1EQcpi+7aZ27b58v55dOqovrrGGEFEWJxHCHFzaUAtX6Dm3w5BDoD6WGNBf8/4c1uw+oSwruacMkE4o2R/yPS/gLU1iFTkzKgiaDGiCYGTR0oJawhvAL/tu7cotaIQI7s7xPWIKRkNu5krqrRDtt9n969BB7NguN9BIaIx25nyy8wIPsItHpno7Z4B/hRl72WtaDlBEkNY4L2DiKDUilrrobAXaPdb+/WC8pdyxjJ5rD4gxIicn5mpXTNWOnRVyelqGVYilBht2p4ZrI7EcM5jXhbM84zgV0gp1kTl9na74Xw+43K5YBgGo+UJyAyZZ8jjAXYOnPNeQtk4tLK0+0SoOYNiRN/3BjSOI6ZpegK+1K8A3nuM0/QsOSXkjw/Q44F1XeGcQ9XsNPiyoHj/RpM1RXWnUzNRQI1qgFryOBrw9XrF6XSyDMy23bGPSBv3rdOdlrASox5D7d9tITKJKPl2Wc9FIExwnN702Cm5n/2AYZxMEocfQXl2cgjucK5+0zzj8z6AiI86VKO1n3nX1h7RBJ0wjKNl+Rp6xySlPG8CfwH+BZcymsSMVIx2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"résumé du fonctionnement global du DNS\"\n        title=\"résumé du fonctionnement global du DNS\"\n        src=\"/blog/static/d15a9e1a30fa99182aedfe968a346ee4/fcda8/dns_explained_global.png\"\n        srcset=\"/blog/static/d15a9e1a30fa99182aedfe968a346ee4/12f09/dns_explained_global.png 148w,\n/blog/static/d15a9e1a30fa99182aedfe968a346ee4/e4a3f/dns_explained_global.png 295w,\n/blog/static/d15a9e1a30fa99182aedfe968a346ee4/fcda8/dns_explained_global.png 590w,\n/blog/static/d15a9e1a30fa99182aedfe968a346ee4/efc66/dns_explained_global.png 885w,\n/blog/static/d15a9e1a30fa99182aedfe968a346ee4/c83ae/dns_explained_global.png 1180w,\n/blog/static/d15a9e1a30fa99182aedfe968a346ee4/0f729/dns_explained_global.png 4381w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Exécuter une requête DNS</h2>\n<p>Le cheminement suivi lors du lookup DNS peut-être examiné avec la commande <code class=\"language-text\">dig +trace</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token operator\">></span> <span class=\"token function\">dig</span> +trace google.fr\n<span class=\"token builtin class-name\">.</span>\t\t\t<span class=\"token number\">488309</span>\tIN\tNS\tb.root-servers.net.\nfr.\t\t\t<span class=\"token number\">172800</span>\tIN\tNS\td.nic.fr.\ngoogle.fr.\t\t<span class=\"token number\">172800</span>\tIN\tNS\tns3.google.com.\ngoogle.fr.\t\t<span class=\"token number\">300</span>\tIN\tA\t<span class=\"token number\">142.250</span>.179.99</code></pre></div>\n<p>La première ligne retourné correspond à la requête vers le serveur DNS root \"b.root-servers.net\".</p>\n<p>La 2e ligne correspond à la requête vers le serveur TLD, et finalement la 3e ligne est celle vers le Authoritative Name Server.</p>\n<p>On obtient finalement l'IP de google.fr !</p>\n<h2>Propagation DNS explained !</h2>\n<p>Lorsque l'on modifie le DNS pour qu'un nom de domaine pointe sur une autre adresse IP, la modification n'est pas immédiatement visible sur navigateur: c'est la propagation DNS !</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Domain</th>\n<th>IP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>avant modification</td>\n<td>exemple.fr</td>\n<td>104.28.5.98</td>\n</tr>\n<tr>\n<td>après modification</td>\n<td>exemple.fr</td>\n<td>132.30.160.99</td>\n</tr>\n</tbody>\n</table>\n<p>La propagation DNS est le délais nécessaire pour que les différents serveurs mettent à jour leur cache.</p>\n<h2>TLDR</h2>\n<p>Pour résumer: pour récupérer une page web \"<a href=\"https://google.fr\">https://google.fr</a>\", nous avons besoin de connaître l'adresse IP associé au nom de domaine \"google.fr\".</p>\n<p>Pour cela:</p>\n<ul>\n<li>le navigateur va passer par le système d'exploitation de l'ordinateur puis le résolveur DNS du fournisseur internet.</li>\n</ul>\n<p>Si aucun de ces deux éléments n'a l'adresse IP, alors on va décomposer le nom de domaine google.fr:</p>\n<ul>\n<li>on interroge en root serveur en premier pour savoir où trouver le serveur TLD qui connaît \".FR\"</li>\n<li>on interroge ce serveur TLD \".FR\" pour connaître le serveur de nom faisant autorité qui connait \"google.fr\"</li>\n<li>le serveur de nom faisant autorité nous donne l'adresse IP de \"google.fr\"</li>\n</ul>"}},{"node":{"id":"aa7f7abb-a684-5961-985e-a0b669ec7b8a","frontmatter":{"category":"NAVIGATEUR","date":"2021-03-15","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQD/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAaspBssR/8QAGRABAAMBAQAAAAAAAAAAAAAAAgABAxME/9oACAEBAAEFAii4y7T15Xtlzl6OvPP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAACAgIDAAAAAAAAAAAAAAAAARESAiEQMmH/2gAIAQEABj8C0xpdWVrll6SmTbcxx//EABoQAQEBAQEBAQAAAAAAAAAAAAERAFEhcaH/2gAIAQEAAT8hP/HJR4xXmkeYYBFN7ouqk81ofN//2gAMAwEAAgADAAAAEEjv/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EByf/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EE2f/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARITGBQZHw/9oACAEBAAE/EA4SmaNJyDSdsg8hPrmn54G4A0WAZOxEjbDkBfbgkO0L6n//2Q==","aspectRatio":1.5037593984962405,"src":"/blog/static/d02ca0754060322c320c4810cdc1fe4b/14b42/desk-flat-lay-complete-with-coffee.jpg","srcSet":"/blog/static/d02ca0754060322c320c4810cdc1fe4b/f836f/desk-flat-lay-complete-with-coffee.jpg 200w,\n/blog/static/d02ca0754060322c320c4810cdc1fe4b/2244e/desk-flat-lay-complete-with-coffee.jpg 400w,\n/blog/static/d02ca0754060322c320c4810cdc1fe4b/14b42/desk-flat-lay-complete-with-coffee.jpg 800w,\n/blog/static/d02ca0754060322c320c4810cdc1fe4b/d8343/desk-flat-lay-complete-with-coffee.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"developper-extension-navigateur","title":"Développer une extension navigateur "},"excerpt":"Dans cet article, je vais m'intéresser au développement d'un addon Firefox et Chrome qui affiche une popup. Les API d'intéractions avec…","html":"<p>Dans cet article, je vais m'intéresser au développement d'un addon Firefox et Chrome qui affiche une popup.</p>\n<p>Les API d'intéractions avec Chrome sont différents de ceux de Firefox. La première partie de cet article introduit la création d'un addon. Si ce qui vous intéresse est comment rendre l'addon compatible sur ces deux navigateurs, je vous invite à lire <a href=\"#chrome-firefox-api\">cette section</a>.</p>\n<p>Le code utilisé dans cet article se trouve <a href=\"https://github.com/celineung/poc-browser-addon\">ici</a>.</p>\n<h2>Écrire le manifest.json</h2>\n<p>Le fichier manifeste.json contient les métadonnées de l'addon (comme son nom et sa version), référence les scripts nécessaires à son lancement et les permissions accordées.</p>\n<p>Commençons par créer le dossier <strong>poc-browser-addon</strong> contenant ce manifest.json:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"manifest_version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"POC Addon Popup\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Extension navigateur qui affiche une popup\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.0.1\"</span><span class=\"token punctuation\">,</span>\n  \n  <span class=\"token property\">\"background\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"background.js\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  \n  <span class=\"token property\">\"browser_action\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"default_icon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby-icon.png\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"default_title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"My Addon\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"default_popup\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"popup.html\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Le fichier background.js est un fichier qui sera lancé au chargement de l'extension. D'après <a href=\"https://developer.mozilla.org/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/arriere-plan\">la documentation MDN</a>:</p>\n<blockquote>\n<p>Les scripts d'arrière-plan sont l'endroit pour placer le code qui doit maintenir l'état à long terme, ou effectuer des opérations à long terme, indépendamment de la durée de vie de toutes les pages Web ou les fenêtres du navigateur.</p>\n</blockquote>\n<p>La propriété \"browser_action\" permet de définir une icon à afficher sur le bouton de l'extension ainsi que une popup qui s'affiche lors d'un clic.</p>\n<h2>Lancer l'addon sur Chrome et Firefox</h2>\n<p>A cette étape, nous avons simplement initialisé l'addon avec le fichier manifest.json. L'addon n'est pas encore packagé et ne comporte aucune fonctionnalité pour le moment. Néanmoins, il est possible de le lancer localement sur son navigateur.</p>\n<p>Sur Chrome:</p>\n<ul>\n<li>Se rendre sur <a href=\"chrome://extensions\">chrome://extensions</a></li>\n<li>Activer le \"mode développeur\". Une nouvelle zone s'affiche et permet de sélectionner l'addon à charger.</li>\n<li>Cliquer sur \"Load unpacked\"</li>\n<li>Dans la popup qui s'ouvre, sélectionner le dossier <em>poc-browser-addon</em></li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/24f59b246ef376a15c1979785c6985e9/3f99a/chrome_load_addon.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.783783783783782%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAbklEQVQI12OIarn3P6juzv+Q+jv/Qxru/Q+uOvs/rOLA/7DKQ/8DSg78Dyje/z+gBB0f+O9fvO9/YPmx/2GN9/6HNd79H9pw939s273/DB++/P7/9tOv/x++QPCX77////z15/+Pn3/ANCkYpAcA6BKCMq85fKAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Charger l&#39;addon sur Chrome\"\n        title=\"Charger l&#39;addon sur Chrome\"\n        src=\"/blog/static/24f59b246ef376a15c1979785c6985e9/fcda8/chrome_load_addon.png\"\n        srcset=\"/blog/static/24f59b246ef376a15c1979785c6985e9/12f09/chrome_load_addon.png 148w,\n/blog/static/24f59b246ef376a15c1979785c6985e9/e4a3f/chrome_load_addon.png 295w,\n/blog/static/24f59b246ef376a15c1979785c6985e9/fcda8/chrome_load_addon.png 590w,\n/blog/static/24f59b246ef376a15c1979785c6985e9/efc66/chrome_load_addon.png 885w,\n/blog/static/24f59b246ef376a15c1979785c6985e9/c83ae/chrome_load_addon.png 1180w,\n/blog/static/24f59b246ef376a15c1979785c6985e9/3f99a/chrome_load_addon.png 2840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Et voilà! L'icône de notre addon s'affiche sur notre navigateur:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 140px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/c577019f5c17b6092fa3a40b2766defa/0d3e1/chrome_addon_display.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACSUlEQVQ4y71U32vTUBTuX+MfNBWGTGEPgjIQfBiIMPRBfKyGycZwDDcYW6tMUdnDNhWU6cvcZluCStv8aJolNGmytOnPtJ+cq/fa9cfQCR44ueHk3O+c79zvJtbtdnEWJys5ZWTzOnJKQXgM/2hhWId/XBEeazQaIG82m2z1PR+u48Ire6jX6yLe77VajX2PouhEgVi73WZBSjLNIgpFFYqah26oMIwCwjBEp9MBz6O11WqxzfTOgfkoBGXbtqEoCt5u7OP5/CdsJz5DUVRWJIo6A1QPv6TEO++adUiPajWEYerYTu4hfu01ZsYSuHM+ieX7b2Ac6WwM3I6DANKjOUxevY64NItqtfprluHvDn3fh6arWLq7g/npLUyckzAzto4HU6/wTc6iXHYFINFeWFzChfHLuHjpCp6srLI4nycDDIKAdZh4+B6biwd4fHsH0tQmnkq7yOXy8DxPANIhSbNzuHFzGuMTk1hLPmNxmiXNOsaHWzQNyKnvWI9/wMKtLSzfe4f9jzIMs8Cq91JeWV2D65ax8eLlCcpihryCeVSEqqpI7X1FPqvAtAwEQeVUHRJNrgQGSNUpQLRLpRI0TYOmK9A0FbZls3ilUmFdklNhyucrxTgYOxR60CY6GNLXTyE32cpF7bou+0a5tJk7v4IcTFCmDXwGw4w0SuDDrPduC9kQINHqTehNtCxLCHfUj2Kgw17AfhrDAEfZmTv8v4CO45x6KH8NSJKRZRnpdHrAM5kMdF0X/70/AqSrR6DU6TAnEfePYRTgD74974MHF+hZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Affichage de l&#39;addon sur Chrome\"\n        title=\"Affichage de l&#39;addon sur Chrome\"\n        src=\"/blog/static/c577019f5c17b6092fa3a40b2766defa/0d3e1/chrome_addon_display.png\"\n        srcset=\"/blog/static/c577019f5c17b6092fa3a40b2766defa/0d3e1/chrome_addon_display.png 140w\"\n        sizes=\"(max-width: 140px) 100vw, 140px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>En cliquant sur l'addon, un petit carré blanc s'affiche: c'est normal, notre popup ne contient rien pour l'instant.</p>\n<blockquote>\n<p>Si l'extension ne s'affiche comme si l'image précédente, vous avez sûrement besoin de la fixer. Pour cela, cliquez sur l'icon de l'extension en forme de puzzle, visible sur l'image précédente.</p>\n</blockquote>\n<p>Sur firefox:</p>\n<ul>\n<li>Se rendre sur <a href=\"about:debugging#/runtime/this-firefox\">about:debugging#/runtime/this-firefox</a></li>\n<li>Cliquer sur \"Load temporary Add-on...\"</li>\n<li>Dans la fenêtre qui s'affiche, cliquer sur n'importe quel fichier du dossier <em>poc-browser-addon</em></li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/8899fb1399857dd2bba79f43d7492ac6/3d22e/firefox_load_addon.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB0UlEQVQoz1WT3W7cIBCF/f7v0PtKfYZe9Q1ykVa7Srtp1l6vAwbzY2AAn2rwOkqRjsbA+NOcAbqUCEQFMRFiTEgxIaaMDIDqhpIL8kOlVBDlPS8RUkqIcY8hUPvupvuEcRxBKe0JKYPCCvHtC+T5B66jwNAPuN1GXK89lNIf0B28R6H22F1EwJ/JQ1h6JFGDL1+/w55P0M5j0QuWxTSYc75Vx7mZdndSFRiXUTKhMy6AZX1stvfyI252wXB/x3gbMQw3SDm3yg4YJcIkPN56hd+vGm+DgXURnbMOUkhoreH92mD8o5Iz1KxaZVoviHFfP1RKwTAa/Dz1OJ3/4vlXD2MCOt5kG0LIVgVDeTw9PeHl5QVSSkzTO2qt2LatgQ5tG68BQmjc71Nba0DuzeXyir4fsK7h0fSIdd3hPBgWQoAxBtZaOOdatM7Ce9/2uB1d6wflj6txzLlqPn2eM6yWghhWpBgQvIOaJRalsKh5j1rtwKPJn8VArm6e52aDhyFgSYBOwBw2CF8g14LJV4i1Yl4rEuX/gcedOixz/9iiMRZKLxCOoCJAZUOuaApUsEbC2h7IA/hZxytg+0T08SL4bhKv5YpaS2sBn4hzFrOUTWz5H8iYUZeI+IXGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Charger un addon temporaire sur Firefox\"\n        title=\"Charger un addon temporaire sur Firefox\"\n        src=\"/blog/static/8899fb1399857dd2bba79f43d7492ac6/fcda8/firefox_load_addon.png\"\n        srcset=\"/blog/static/8899fb1399857dd2bba79f43d7492ac6/12f09/firefox_load_addon.png 148w,\n/blog/static/8899fb1399857dd2bba79f43d7492ac6/e4a3f/firefox_load_addon.png 295w,\n/blog/static/8899fb1399857dd2bba79f43d7492ac6/fcda8/firefox_load_addon.png 590w,\n/blog/static/8899fb1399857dd2bba79f43d7492ac6/efc66/firefox_load_addon.png 885w,\n/blog/static/8899fb1399857dd2bba79f43d7492ac6/c83ae/firefox_load_addon.png 1180w,\n/blog/static/8899fb1399857dd2bba79f43d7492ac6/3d22e/firefox_load_addon.png 2010w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Enrichir l'addon</h2>\n<p>Modifions le contenu de notre fichier popup.html:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Popup<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">></span></span>Saisir un message\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>message_id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">size</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>34<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Envoyer<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>popup.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Pour l'instant, ce message s'affichera à chaque clic sur l'addon. Notre objectif est de l'afficher tant qu'aucun message n'a été envoyé.</p>\n<p>Pour cela, une fois que l'utilisateur clique sur le bouton \"Envoyer\", l'état sera sauvegardé dans le storage de l'addon. Nous créons donc le fichier popup.js:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">MESSAGE_SELECTOR</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"#message_id\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">STORAGE_KEY</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"isMessageSent\"</span><span class=\"token punctuation\">;</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"form\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"submit\"</span><span class=\"token punctuation\">,</span> setMessageInStorage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">setMessageInStorage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    chrome<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span>local<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">[</span><span class=\"token constant\">STORAGE_KEY</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MESSAGE_SELECTOR</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ferme la popup</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>L'utilisation du storage nécessite la permission dans le manifest.json:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"permissions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"storage\"</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Côté background.js, nous avons besoin d'écouter sur les évènements du Storage. Lorsque un évènement a été délenché, nous récupérons la valeur dans le storage associé à la clé <code class=\"language-text\">isMessageSent</code>. S'il y a bien une valeur dans le storage alors la popup est cachée. Au prochain clic sur l'addon, la popup ne s'affichera plus.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">STORAGE_KEY</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"isMessageSent\"</span><span class=\"token punctuation\">;</span>\n\nchrome<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span>onChanged<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span>receiveEventFromStorage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">receiveEventFromStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    chrome<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span>local<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token constant\">STORAGE_KEY</span><span class=\"token punctuation\">,</span> keepPopupClosedAndEnableAddon<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">keepPopupClosedAndEnableAddon</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> isMessageSent <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span><span class=\"token constant\">STORAGE_KEY</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isMessageSent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        chrome<span class=\"token punctuation\">.</span>browserAction<span class=\"token punctuation\">.</span><span class=\"token function\">setPopup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">popup</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Inspecter l'addon</h2>\n<p>Pour aller plus loin, nous pouvons afficher un <code class=\"language-text\">console.log</code> dans le background.js qui sera déclenché à chaque clic sur l'addon. Cet évènement ne sera <strong>pas déclenché tant que la popup sera active</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">chrome<span class=\"token punctuation\">.</span>browserAction<span class=\"token punctuation\">.</span>onClicked<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span>displayConsoleLog<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">displayConsoleLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Voilà'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Pour inspecter l'addon sur Chrome: se rendre sur <a href=\"chrome://extensions\">chrome://extensions</a> et cliquer sur \"background page\" de notre addon. Une nouvelle fenêtre s'ouvre. Dans l'onglet \"console\", le message \"Voilà\" de notre script s'affiche.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/ffa5e61fa5f8d31bc45c1614918d7371/6a6e9/chrome_inspect_addon.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxklEQVQoz5VSy27UQBDcT+TAFcRplR+AG/kGTlz4ABIhBU6IvSCkkBsiQigRXLwvr/fh9WNsz9ieme5CbTtLgiIQLZWmxz1TrurpUdO2uAkmgnUO3hOIGcwAEYMBeO/hnIe1Fta6u3A9WmsxEqJpEOD9hwnSooRzDstliDAUrBBFEaJVhCzPUWmNvwUR9YRvzs7w5OEDTC8+dmpmszmWYYj1etORBsEUuzjGfp8ckOc50jTrIOoxuBgxM1a7Pa4n72A/vWUpFaqgSmvbNI0ty8oqVVjZSy4oytJWlbZKKZ8rJUR8IBTvB8l9Tvi/OJzvCKXRolL8S1Ga3rTtFwDPABwDeH4PjgF+ysyn3D0e0y3CXqEUhNAYg8Vieb7ebB8n8ebo68/t+OUkHp+cJ+PTz8n4tawXyVGm3SMArwZCf0fhLUL5SNvdDmmWQeUZwm2Oy8Dgam7wI6xxvTD4PjNoLA33ZML4t2WZI7ErqomIZe6Gvrh/wBKR7+8yexoIyTusMo/LuUVcyGsRoszzt4XlWeyY+j/ciyRJ2dkGawV+MVFIS4eR1gZlZZCqfpUe3uzzwkAbg7puUNf1H2i6s5JXusYu1ai0wS/loEWmKnC/UAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Inspecter l&#39;addon sur Chrome\"\n        title=\"Inspecter l&#39;addon sur Chrome\"\n        src=\"/blog/static/ffa5e61fa5f8d31bc45c1614918d7371/fcda8/chrome_inspect_addon.png\"\n        srcset=\"/blog/static/ffa5e61fa5f8d31bc45c1614918d7371/12f09/chrome_inspect_addon.png 148w,\n/blog/static/ffa5e61fa5f8d31bc45c1614918d7371/e4a3f/chrome_inspect_addon.png 295w,\n/blog/static/ffa5e61fa5f8d31bc45c1614918d7371/fcda8/chrome_inspect_addon.png 590w,\n/blog/static/ffa5e61fa5f8d31bc45c1614918d7371/6a6e9/chrome_inspect_addon.png 826w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Pour inspecter l'addon sur Firefox, se rendre sur <a href=\"about:debugging#/runtime/this-firefox\">about:debugging#/runtime/this-firefox</a> et Cliquer sur le bouton \"Inspect\" de l'addon concerné. Un nouvel onglet s'ouvre. Dans l'onglet \"console\", le message \"Voilà\" de notre script s'affiche.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/ea4a64311026b00910323048357b1e46/e8814/firefox_inspect_addon.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABi0lEQVQoz32Si26jMBBF+f+Pyc80ZJttuw0lUsTLNjbgB7bvaqYiNKtoLR15/JjLzMVFXV/x+npGWZ7w9vaO0+kX8/HxB13XI4QVznl4H+7Q2lr3lGJZLCf9e0D7BCU/o6q+8PJyxPFYckHn828uoIgx4Xq9QggJYwy01kwIASklxBifsldqMQwDwxXmnHE4HFCWJW63G8iCqqowTRNo0Pn/BonXdc1471Gsa+RAKfVwcROis3EcobW5z9TBd6xhzIR5nrkAFqQv0IaUCs45FvopRjZsVmwxJW8x5S6W/F7YJvaQLlO7VOUumJHiiuAs1uCxegfvLJQU0EpiVBJmVBil4D0pBnjndsGmabiNzTIXM0wAphU86wCMLqHTFr1x6I1HqwnHe4T1696yEIJn+rOE8RHdTCR0S0Y7Z0iXoTwY4YDeAoMDpAdkAFxIu2DbtmiaFn0/MLRWokc/eTQL4OO3DQ/khBxXIEW2h7QKetSbb9TuY7yt071yfpsp8Rk9/MulQj8M+Py88PovdflR0qdquI4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Inspecter l&#39;addon sur Firefox\"\n        title=\"Inspecter l&#39;addon sur Firefox\"\n        src=\"/blog/static/ea4a64311026b00910323048357b1e46/fcda8/firefox_inspect_addon.png\"\n        srcset=\"/blog/static/ea4a64311026b00910323048357b1e46/12f09/firefox_inspect_addon.png 148w,\n/blog/static/ea4a64311026b00910323048357b1e46/e4a3f/firefox_inspect_addon.png 295w,\n/blog/static/ea4a64311026b00910323048357b1e46/fcda8/firefox_inspect_addon.png 590w,\n/blog/static/ea4a64311026b00910323048357b1e46/efc66/firefox_inspect_addon.png 885w,\n/blog/static/ea4a64311026b00910323048357b1e46/c83ae/firefox_inspect_addon.png 1180w,\n/blog/static/ea4a64311026b00910323048357b1e46/e8814/firefox_inspect_addon.png 1392w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"chrome-firefox-api\">Utiliser une seule API pour Chrome et Firefox</h2>\n<p>Si l'on considère l'<a href=\"https://developer.chrome.com/docs/extensions/reference/storage/\">API Chromium pour le storage</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">chrome<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span>local<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> value<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> callbackFunction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Alors que pour Firefox, l'<a href=\"https://developer.mozilla.org/fr/docs/Mozilla/Add-ons/WebExtensions/API/storage/StorageArea/set\">API retourne une Promesse</a> (donc pas besoin de lui fournir une fonction callback):</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">browser<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span>local<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>keys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Toutefois, Firefox comprend l'API Chromium mais pas l'inverse. C'est pourquoi nous utilisons uniquement l'API Chronium.</p>"}},{"node":{"id":"ac493144-f5d5-5b8f-9ddf-3831c64c5788","frontmatter":{"category":"GITHUB","date":"2021-02-19","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAFR6O8U82J//8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIAAxIhIzH/2gAIAQEAAQUCrGcsbmTEco7DZ9//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAQMFAAAAAAAAAAAAAAAAAQIQEQASIUGR/9oACAEBAAY/ApVyrYyNMFB//8QAGxAAAwACAwAAAAAAAAAAAAAAAAERITFBUdH/2gAIAQEAAT8hg2paK3odYbX4PoyhVNVXimMQ/9oADAMBAAIAAwAAABCL7//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxABMsX/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREx/9oACAECAQE/EJ1b/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIUExcf/aAAgBAQABPxAdFGRlPaNdyo7A2YYGfLL05FMFC3QCP9X6+nSOeJLwt9iGAqf/2Q==","aspectRatio":1.5037593984962405,"src":"/blog/static/43d7c7f3d3545e44d86167dcec5fe61e/14b42/journal-and-coffee-at-table.jpg","srcSet":"/blog/static/43d7c7f3d3545e44d86167dcec5fe61e/f836f/journal-and-coffee-at-table.jpg 200w,\n/blog/static/43d7c7f3d3545e44d86167dcec5fe61e/2244e/journal-and-coffee-at-table.jpg 400w,\n/blog/static/43d7c7f3d3545e44d86167dcec5fe61e/14b42/journal-and-coffee-at-table.jpg 800w,\n/blog/static/43d7c7f3d3545e44d86167dcec5fe61e/d8343/journal-and-coffee-at-table.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"github-action-pour-envoyer-message-slack","title":"Ajout de Github Action pour envoyer un message sur Slack"},"excerpt":"Qu'est-ce que les Github Actions ? Les Github Actions permettent de déclarer des \"actions\" qui vont se déclencher automatiquement à certains…","html":"<h2>Qu'est-ce que les Github Actions ?</h2>\n<p>Les <a href=\"https://docs.github.com/en/actions\">Github Actions</a> permettent de déclarer des \"actions\" qui vont se déclencher automatiquement à certains moments de notre flux de travail.</p>\n<p>Par exemple, on peut définir une action qui va merger automatiquement une PR si elle a reçue au moins deux validations, ou encore une action qui va déplacer un ticket sur notre board Jira dès qu'une PR est mergée.</p>\n<p>Dans cet article, on va créer une Github Action qui envoie un message sur Slack contenant la version du <code class=\"language-text\">package.json</code> à chaque merge sur la branche dev.</p>\n<h2>Comment Github Actions fonctionne</h2>\n<ul>\n<li>\n<p>À la racine du projet, créer le dossier <code class=\"language-text\">.github/workflows</code></p>\n</li>\n<li>\n<p>Dans ce nouveau dossier, y créer le fichier <code class=\"language-text\">send-message-to-slack.yml</code> contenant:</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Send project version to Slack\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> master\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">send-message-to-slack</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Send message to Slack\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Retrieve version\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> retrieve<span class=\"token punctuation\">-</span>version\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          version=$(node -p \"require('./package.json').version\")\n          echo \"##[set-output name=version;]$version\"</span></code></pre></div>\n<p><strong>Que fait ce fichier ?</strong></p>\n<table>\n<thead>\n<tr>\n<th>Lignes du fichier</th>\n<th>Explications</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name: Send project version to Slack</td>\n<td>Le nom du workflow qui apparaîtra dans l'onglet Actions de Github</td>\n</tr>\n<tr>\n<td>on:<br/>  push:<br/>    branches:<br/>      - master<br /></td>\n<td>Le workflow créé sera déclenché à chaque push sur la branche <code class=\"language-text\">master</code>. <br />Si comme moi vous travaillez sur une branche de développement et que vos commits sur master viennent de merges de la branche de développement, alors le workflow sera déclenché à chaque merge sur la branche <code class=\"language-text\">master</code>.</td>\n</tr>\n<tr>\n<td>jobs:</td>\n<td>Liste des jobs du workflow.<br />Un job liste un ensemble de <code class=\"language-text\">steps</code> qui se lancent sur le même serveur, appelé ici <code class=\"language-text\">runner</code>. Par défaut, les jobs déclarés démarrent en parallèle.</td>\n</tr>\n<tr>\n<td>send-message-to-slack:</td>\n<td>Nom du job.</td>\n</tr>\n<tr>\n<td>name: Send message to Slack</td>\n<td>Nom du job. Si spécifié, il s'agit alors de celui-ci qui sera affiché dans l'onglet Github.</td>\n</tr>\n<tr>\n<td>runs-on: ubuntu-latest</td>\n<td>Le job se lance sur une VM Linux hébergée par Github. Il est possible d'utiliser d'<a href=\"https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on\">autres runners</a>.</td>\n</tr>\n<tr>\n<td>steps:</td>\n<td>Regroupe les <code class=\"language-text\">steps</code> du job <code class=\"language-text\">share-xpi</code>. Un step est soit une action (utilisé via le mot-clé <code class=\"language-text\">uses</code>), soit une commande shell (utilisé via le mot-clé <code class=\"language-text\">run</code>).<br />Dans notre exemple ici, nous avons 2 steps.</td>\n</tr>\n<tr>\n<td>- uses: actions/checkout@v2</td>\n<td>Le premier step de notre job utilise l'action <a href=\"https://github.com/marketplace/actions/checkout\">Checkout</a> du marketplace Github. Cette action va récupérer le repository et le télécharger sur le runner.</td>\n</tr>\n<tr>\n<td>- name: Retrieve version</td>\n<td>On attribue un nom plus explicite au deuxième step de notre job. Ce sera lui qui sera affiché dans notre onglet Github.</td>\n</tr>\n<tr>\n<td>id: retrieve-version</td>\n<td>J'attribue un id à ce step pour pouvoir récupérer son output dans la suite du job.</td>\n</tr>\n<tr>\n<td>run: |<br />version=$(node -p \"require('./package.json').version\")<br />echo \"##[set-output name=version;]$version\"</td>\n<td><code class=\"language-text\">run</code> indique ici que l'on va démarrer des commandes shell.<br />La barre vertical permet d'exécuter plusieurs commandes.<br /><br />La première ligne <code class=\"language-text\">version=$(node -p \"require('./package.json').version\")</code> récupère la version du <code class=\"language-text\">package.json</code> dans une variable que l'on nomme <code class=\"language-text\">version</code>.<br /><br />La deuxième ligne <code class=\"language-text\">echo \"##[set-output name=version;]$version\"</code> stocke la variable précédente dans le step.</td>\n</tr>\n</tbody>\n</table>\n<p>Pour résumer: jusqu'à présent, nous nous sommes placés à l'intérieur de notre projet et avons récupéré sa version du <code class=\"language-text\">package.json</code>.</p>\n<p>Il nous reste maintenant à nous interfacer avec Slack pour lui envoyer notre message contenant le numéro de version.</p>\n<h2>Interfaçage avec Slack</h2>\n<h3>Créer un Github Action Secret contenant notre token Slack</h3>\n<p>Pour pouvoir nous connecter avec Slack, nous avons besoin de lui indiquer un token. Si vous n'en avez pas déjà un, il est possible d'en créer un <a href=\"https://1024pix.slack.com/apps/A0F7XDUAZ-incoming-webhooks\">ici</a>.</p>\n<p>Ensuite, il suffit de l'indiquer via les <a href=\"https://docs.github.com/en/actions/reference/encrypted-secrets#creating-encrypted-secrets-for-a-repository\">Github Action Secret</a>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/a63d79a04b640656912f9b51dc58de89/08485/github_repo_settings.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 19.594594594594593%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxklEQVQY06WLy2rCQABF8yVVqAFtDGl8Ulx00b8t7uqimmQSH5/iphB1MpPMSCk9pVPpxqUXDvdw4Xqz5xd64YAwntDpRbT8gLbfpxsOeRzP6MdTgmhMPPnzaPRE2w+4u3+g1bnGmy8E80XG65vgPclZpYJlKkhFQb7ekRUbRLFxLpxvWaU5y0T88/txvyTDM59gvkCduSnfl/a01lhrUUphjEVWivJwdH6SFU1jOJ4kWteOxhi367pG6RpZVciy5GO/52wtP+u3+mRCrPTSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"onglet Settings du repository Github\"\n        title=\"onglet Settings du repository Github\"\n        src=\"/blog/static/a63d79a04b640656912f9b51dc58de89/fcda8/github_repo_settings.png\"\n        srcset=\"/blog/static/a63d79a04b640656912f9b51dc58de89/12f09/github_repo_settings.png 148w,\n/blog/static/a63d79a04b640656912f9b51dc58de89/e4a3f/github_repo_settings.png 295w,\n/blog/static/a63d79a04b640656912f9b51dc58de89/fcda8/github_repo_settings.png 590w,\n/blog/static/a63d79a04b640656912f9b51dc58de89/efc66/github_repo_settings.png 885w,\n/blog/static/a63d79a04b640656912f9b51dc58de89/c83ae/github_repo_settings.png 1180w,\n/blog/static/a63d79a04b640656912f9b51dc58de89/08485/github_repo_settings.png 2014w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Appelons ici le secret qui contient le token Slack <code class=\"language-text\">SLACK_TOKEN</code>.</p>\n<h3>Chercher une Github Action existante d'envoi de message Slack</h3>\n<p>Sur le marketplace de Github, il existe le Github Action <a href=\"https://github.com/marketplace/actions/slack-notify\">Slack Notify</a> qui nous permet d'envoyer un message Slack.</p>\n<p>Le fichier <code class=\"language-text\">send-message-to-slack.yml</code> devient finalement:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Send project version to Slack\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> master\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">send-message-to-slack</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Send message to Slack\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Retrieve version\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> retrieve<span class=\"token punctuation\">-</span>version\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          version=$(node -p \"require('./package.json').version\")\n          echo \"##[set-output name=version;]$version\"</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Send Slack Notification\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> rtCamp/action<span class=\"token punctuation\">-</span>slack<span class=\"token punctuation\">-</span>notify@v2\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">MSG_MINIMAL</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n          <span class=\"token key atrule\">SLACK_CHANNEL</span><span class=\"token punctuation\">:</span> Updates\n          <span class=\"token key atrule\">SLACK_MESSAGE</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"A new version has been deployed.\\nVersion: ${{steps.retrieve-version.outputs.version}}\"</span>\n          <span class=\"token key atrule\">SLACK_TITLE</span><span class=\"token punctuation\">:</span> Release v$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>steps.retrieve<span class=\"token punctuation\">-</span>version.outputs.version<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">SLACK_WEBHOOK</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.SLACK_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Explications des nouvelles lignes</strong></p>\n<table>\n<thead>\n<tr>\n<th>Lignes du fichier</th>\n<th>Explications</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>- name: Send Slack Notification</td>\n<td>Nom du nouveau <code class=\"language-text\">step</code>.<br />Le job contient désormais trois <code class=\"language-text\">steps</code>.</td>\n</tr>\n<tr>\n<td>uses: rtCamp/action-slack-notify@v2</td>\n<td>Utilisation du Github Action: Slack Notify</td>\n</tr>\n<tr>\n<td>env:</td>\n<td>Contient les variables d'environnements nécessaires au fonctionnement de Slack Notify</td>\n</tr>\n<tr>\n<td>MSG_MINIMAL: true</td>\n<td>Slack Notify ajoute les informations <code class=\"language-text\">Ref</code>, <code class=\"language-text\">Event</code>, <code class=\"language-text\">Actions URL</code> et<code class=\"language-text\">Commit</code> au message. En mettant l'option <code class=\"language-text\">MSG_MINIMAL</code>, ces informations ne sont pas affichées.</td>\n</tr>\n<tr>\n<td>SLACK_CHANNEL: Updates</td>\n<td>Indique d'nvoyer le message au channel #Updates</td>\n</tr>\n<tr>\n<td>SLACK_MESSAGE: \"A new version has been deployed.\\nVersion: ${{steps.retrieve-version.outputs.version}}\"</td>\n<td>Définit le corps du message.<br />Remarquons ici que la sortie du step précédent est récupéré et injecté via <code class=\"language-text\">steps.[ID-DU-STEP].outputs.[NOM-DE-LA-VARIABLE]</code>.<br />La string est entouré de quote car un <code class=\"language-text\">\\n</code> y a été inséré pour indiquer un retour à la ligne.<br />Dommage, <code class=\"language-text\">SLACK_MESSAGE</code> ne comprend pas encore le markdown.</td>\n</tr>\n<tr>\n<td>SLACK_TITLE: Release v${{steps.retrieve-version.outputs.version}}</td>\n<td>Le titre du message Slack</td>\n</tr>\n<tr>\n<td>SLACK_WEBHOOK: ${{ secrets.SLACK_TOKEN }}</td>\n<td>Indiquer ici le token Slack ajouté à l'étape précédente dans les Action Secrets.</td>\n</tr>\n</tbody>\n</table>\n<p>Et voilà, nous avons notre Github Action qui envoit un message Slack !</p>\n<h2>Un autre exemple de Github Action</h2>\n<p>Pour voir un autre exemple, dans <a href=\"https://github.com/celineung/blog/blob/main/.github/workflows/auto-deploy.yml\">ce cas</a> j'ai mis en place une Github Action qui déploie un site statique sur gh-pages.</p>\n<p>Dans l'onglet \"Actions\" du repository, nous constatons que le workflow \"Autodeploy\" a été lancé avec succès sur le commit \"[MERGE] Add Github Action to auto deploy\" de la branche <code class=\"language-text\">main</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/e8950/github_repo_actions.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/klEQVQY05WRvU7EQAyE88rU8AL0vMQJREGBaOgogYoWnXS5kIs4kuxustn/D+1GgOjA0si2PLLGngoCv+HphxElJKrvsVpjrC1w3uO9xxiLdQ5rXaljSoQYCSFQbR5qbp4/uHySXNwfedxOqLFnVzdIqfhvVOe3HWdXNafXLSebA3cvqiidtGFZDN6HvyMrhAQ41rzGcRC03TtqXjAusFj/DWM9Qk0INTMIVfIoJ6SakZOmimldFSL4kMh9J4+8brc0Tcuu3tO8tbSHjnq/RyiNdqkISInyu2EUTLMmhEiVUh78AFZSPjc/3WZDzFpnY2KMxYQvfoypcLIhuf8Ea+HPCWC7YOUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"onglet Actions du repository Github\"\n        title=\"onglet Actions du repository Github\"\n        src=\"/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/fcda8/github_repo_actions.png\"\n        srcset=\"/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/12f09/github_repo_actions.png 148w,\n/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/e4a3f/github_repo_actions.png 295w,\n/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/fcda8/github_repo_actions.png 590w,\n/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/efc66/github_repo_actions.png 885w,\n/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/c83ae/github_repo_actions.png 1180w,\n/blog/static/2c5fcc1904aaaa62e77f5020142dc79f/e8950/github_repo_actions.png 2000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>"}},{"node":{"id":"bee4fe88-9198-54e6-9ba1-89c5002101ed","frontmatter":{"category":"JS","date":"2021-02-05","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAAB6RMaZVCf/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAECERMhMTL/2gAIAQEAAQUCeRluJtPqjP/EABYRAQEBAAAAAAAAAAAAAAAAAAACEf/aAAgBAwEBPwGWv//EABcRAQADAAAAAAAAAAAAAAAAAAARIlH/2gAIAQIBAT8BhbX/xAAbEAACAQUAAAAAAAAAAAAAAAAAAREQEjEyUf/aAAgBAQAGPwK0k1Too6ZP/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITFB/9oACAEBAAE/IRdSh2xqMHwvWpdq520g1PINkmiPhWf/2gAMAwEAAgADAAAAECPf/8QAGREBAAIDAAAAAAAAAAAAAAAAAQARITFh/9oACAEDAQE/EKOV3Hmf/8QAGhEAAgMBAQAAAAAAAAAAAAAAAREAITFB8P/aAAgBAgEBPxCoQKXN9kZW8//EABoQAQEBAQEBAQAAAAAAAAAAAAERACFRMUH/2gAIAQEAAT8QnhEdQnw0l/AFYWvGiVu510ol8cjMKS0SZj0Hk3//2Q==","aspectRatio":1.5037593984962405,"src":"/blog/static/c10a06bf19fcd6f2c4e44834f47fd342/14b42/color-foam-shape-flatlay.jpg","srcSet":"/blog/static/c10a06bf19fcd6f2c4e44834f47fd342/f836f/color-foam-shape-flatlay.jpg 200w,\n/blog/static/c10a06bf19fcd6f2c4e44834f47fd342/2244e/color-foam-shape-flatlay.jpg 400w,\n/blog/static/c10a06bf19fcd6f2c4e44834f47fd342/14b42/color-foam-shape-flatlay.jpg 800w,\n/blog/static/c10a06bf19fcd6f2c4e44834f47fd342/d8343/color-foam-shape-flatlay.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"distinguer-composants-smart-et-dumb","title":"Distinguer les composants smart et dumb"},"excerpt":"La notion de composants est présente dans de nombreux frameworks JS (Angular, React, Ember, etc). Ils permettent de découper l'interface…","html":"<p>La notion de composants est présente dans de nombreux frameworks JS (Angular, React, Ember, etc). Ils permettent de découper l'interface utilisateur en éléments facilement réutilisables.</p>\n<p>Lors de la création d'un nouveau composant, différentes questions viennent à l'esprit:</p>\n<ul>\n<li>de quelle donnée ai-je besoin pour rendre mon composant utilisable par d'autres ?</li>\n<li>ai-je besoin d'y injecter des services ?</li>\n<li>sur lequel, du composant appelant ou du composant appelé, placer la logique ?</li>\n</ul>\n<p>De ces questions découlent deux concepts de composants, les composants dumb et les composants smart.</p>\n<h2>Pourquoi ?</h2>\n<p>Lorsque l'on souhaite rendre un composant réutilisable, il est plus intelligent de lui fournir toutes les informations dont il a besoin pour s'afficher correctement plutôt que de repasser derrière lui  pour l'adapter à notre besoin. On appelle ce composant qui ne fait que de la représentation visuelle le composant <u>dumb</u>. Le composant appelant sera appelé composant <u>smart</u>.</p>\n<p>Prenons par exemple un composant Score. En fonction de l'emplacement du score dans la page, ce sera le score de l'utilisateur à une question ou le score <strong>total</strong> de l'utilisateur à toutes les questions qui sera affiché.</p>\n<p>L'appel au composant dans le premier cas s'écrira de la manière suivante dans le template:</p>\n<div class=\"gatsby-highlight\" data-language=\"handlebars\"><pre class=\"language-handlebars\"><code class=\"language-handlebars\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Score</span> <span class=\"token attr-name\">@value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token handlebars language-handlebars\"><span class=\"token delimiter punctuation\">{{</span><span class=\"token punctuation\">@</span><span class=\"token variable\">question</span><span class=\"token punctuation\">.</span><span class=\"token variable\">score</span><span class=\"token delimiter punctuation\">}}</span></span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Et dans le deuxième cas (affichage du score total de l'utilisateur):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;Score @value={{@user.score}} /></code></pre></div>\n<p>On remarque bien ici l'intérêt de séparer les responsabilités entre le composant appelant (smart) et composant appelé (dumb). Le composant Score peut être facilement réutilisé dans des contextes différents. Les données dont il a besoin lui sont passées directement en attributs.</p>\n<h2>Composant dumb</h2>\n<p>La seule responsabilité du composant dumb est <u>l'affichage</u>. Il ne garde pas d'état et n'appelle aucun service. La seule manière de communiquer avec lui est de passer par ses propriétés.</p>\n<p>S'il faut modifier le rendu visuel, c'est ici qu'il faut aller.</p>\n<h2>Composant smart</h2>\n<p>Comme l'indique son nom, ce composant est intelligent: il communique avec des services (appels au storage, API, libraries, etc) et manipule des états. Il récupère/crée les données nécéssaires au composant dumb.</p>\n<p>Il s'assure globalement du bon fonctionnement de l'application.</p>"}},{"node":{"id":"fea18dc8-1b54-5599-9dfd-a020f69ea00e","frontmatter":{"category":"GIT","date":"2021-01-15","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABczPUioE8Nf/EAB4QAAEEAQUAAAAAAAAAAAAAAAABAgQRAwUSFCEx/9oACAEBAAEFApE1GDdmY5DRejT7tff/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFH/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BV//EABwQAAICAgMAAAAAAAAAAAAAAAABAiEDEBIiMv/aAAgBAQAGPwLjj7MWWzyxxJXWv//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExQWH/2gAIAQEAAT8hSwdXhCwtgupVqDvi3uBeViYM9n//2gAMAwEAAgADAAAAENz/AP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EEP/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QrT//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMUFhkaH/2gAIAQEAAT8QTiJp/Ltir2IvIaeyajztCOWIuWM4ageIOVdrz4VCFaEfZ//Z","aspectRatio":1.5037593984962405,"src":"/blog/static/fac8be5adb93f9de120e986c4995971d/14b42/good-vibes-sign-flatlay.jpg","srcSet":"/blog/static/fac8be5adb93f9de120e986c4995971d/f836f/good-vibes-sign-flatlay.jpg 200w,\n/blog/static/fac8be5adb93f9de120e986c4995971d/2244e/good-vibes-sign-flatlay.jpg 400w,\n/blog/static/fac8be5adb93f9de120e986c4995971d/14b42/good-vibes-sign-flatlay.jpg 800w,\n/blog/static/fac8be5adb93f9de120e986c4995971d/d8343/good-vibes-sign-flatlay.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"conventional-comments","title":"Des revues de code effectives avec les conventional comments"},"excerpt":"Il y a quelques temps, j'ai eu l'occasion de m'essayer au conventional comments lors des revues de code. Depuis, j'ai adopté la pratique…","html":"<p>Il y a quelques temps, j'ai eu l'occasion de m'essayer au <a href=\"https://conventionalcomments.org/\">conventional comments</a> lors des revues de code. Depuis, j'ai adopté la pratique: les actions attendues suite à un commentaire sur un bout de code sont devenues plus claires.</p>\n<p>J'aborderai dans un premier temps dans cet article pourquoi je trouve les revues de code importantes, puis comment j'exprime mon intention derrière une revue de code via les <em>conventional comments</em>.</p>\n<h2>Pulls requests: l'union fait la force</h2>\n<p>Au cours de mes missions, j'ai croisé plusieurs façon d'intégrer du nouveau code dans la base de code commune. Dans le pire des cas, les nouveaux développements peuvent soient:</p>\n<ul>\n<li>être directement mergés dans la branche de travail principale</li>\n<li>ou bien être mergés après validation de collègues qui ne leur ont pas accordé ni l'attention ni le temps nécéssaire</li>\n</ul>\n<blockquote>\n<p>Attention, si vous codez sans pensez à votre relecteur (grand nombre de fichiers, inclusion de nouvelles fonctionnalités hors-scope, refactorisation tunnel qui peuvent être faits à postériori, etc), vous comprendrez que la revue de code ne sera pas simple! Pensez à faire des commits atomiques, avec des noms de commits parlant (cf: <a href=\"https://celineung.github.io/blog/message-de-commit-git\">comment écrire un message de commit Git</a>) et un enchaînement de commits qui traduit votre chemin de pensée.</p>\n</blockquote>\n<p>Certaines personnes pensent que les revues de code ne sont pas nécessaires et sont une perte de temps.</p>\n<p>Pourtant, nous travaillons tous sur la même base de code et sommes amenés à repasser derrière le travail  de nos collègues. Il arrive que nous remarquons que le nom de la variable ne nous plaît pas, qu'il manque des tests unitaires, que certaines fonctions sont trop lourdes, que la fonctionnalité ne marche pas en fait, etc. Alors j'ai envie de vous dire: vous ne pouvez vous en prendre qu'à vous même. Il fallait manifester vos remarques lors de la revue de code. Bien sûr, il n'est pas trop tard pour corriger. Mais notez bien que vous avez autant de responsabilité sur le code que votre collègue qui l'a écrit. Il ne faut pas blâmer le codeur, mais l'équipe. Le code n'appartient pas à un seul individu, mais à toute l'équipe. C'est ce que l'on appelle l'<strong>egoless programming</strong>.</p>\n<p>Les revues de code permettent d'augmenter la qualité du code et de s'assurer que la base de code finale convient à tout le monde.</p>\n<p>Exemple de revue sur la <a href=\"https://github.com/angular/angular/pull/40303\">Pull Request #40303 de Angular</a>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/704a5825413389c477d7bce00ea9e51e/81315/code_review_example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEElEQVQ4y5WR6U7cMBhF8/4PVFX8QkCRqArdYBYynZmE7ImzTVZn7FPFIEAVrWikoysnn06ubasdeoIsIc4FWS4QRUGa5yRCkFcVYZrS9D3dONDLkWGSr5jopaRsGrKypGpbrI2KOD3ecTXZ/Kp9FsLlOrrnrthjdwGL0mFVP5i0uwjnmOFqgavES77CWmqfj/obF2rBzy7kNA65TB2u0i3LPmBPxo703Vgr7XOiv/PpuOS2C7jME75UCTeFy7ILcclxEM/MP9jrv/MsPJ+WbDqPvQxY9x73g89Ghqx737DqPNZDwFalj631Y/6JtdKBEV4clyxqj6vY5fxhyefYxh4CIzK0D6z7gN2T0DR6S7jQHh/4ypm640cfcRJGnKU+56HNTeWYbe6ehufckrLVCVteoV+wXJ2ZG75uN9h1wKYVOGOBM2R4U06oS0L1D3RJZKhMWt2hRUQpSirkKOGo+O9Hg5oUKI1VFDkbe4UXBOwdF88PCOOEJMsIwpCqrun6jkPTGJqZtqU+HMxaSmmcwziilMKqqxJvvyVOUqI4Js0ERVGSZhlC5LRtR9f3tG1rRGbddc/iaZqMcBaruWFdFvjOjjCKSZKEcZRmaBhGw7t2rPWTUGEJkbJe3VKWFWVVMQwDTdOanN+N4/uk89wstvpBUuUBsq8Y5NGcxdxyZm44yolpOiKno8m3mL9JOZn8DUy2KR7514G2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Example de code revue contenant une suggestion de modification\"\n        title=\"Example de code revue contenant une suggestion de modification\"\n        src=\"/blog/static/704a5825413389c477d7bce00ea9e51e/fcda8/code_review_example.png\"\n        srcset=\"/blog/static/704a5825413389c477d7bce00ea9e51e/12f09/code_review_example.png 148w,\n/blog/static/704a5825413389c477d7bce00ea9e51e/e4a3f/code_review_example.png 295w,\n/blog/static/704a5825413389c477d7bce00ea9e51e/fcda8/code_review_example.png 590w,\n/blog/static/704a5825413389c477d7bce00ea9e51e/efc66/code_review_example.png 885w,\n/blog/static/704a5825413389c477d7bce00ea9e51e/c83ae/code_review_example.png 1180w,\n/blog/static/704a5825413389c477d7bce00ea9e51e/81315/code_review_example.png 1656w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Transmettre son intention lors d'une revue de code</h2>\n<p>Imaginons que nous avons à présent développé une nouvelle fonctionnalité prête à être mergée et nos collègues ont commencé à faire de la revue dessus.</p>\n<p>Nous pouvons y lire les commentaires suivants:</p>\n<ul>\n<li>\"Pourquoi mettre le background-color à #F4F5F7?\"</li>\n<li>\"On utilise déjà le nommage <code class=\"language-text\">rdn</code> ailleurs, mais je trouve que ce n'est pas parlant\"</li>\n<li>\"Attention, cette librarie est dépréciée\"</li>\n</ul>\n<p>Chacun de ces commentaires sont pertinents. Mais que faut-il vraiment modifier du code pour que l'on puisse le considérer comme \"validé\"? Ici, <strong>les intentions des commentateurs ne sont pas explicitement véhiculés.</strong></p>\n<p>Qu'est-ce qui est vraiment bloquant? Le commentateur demande-t-il des explications sur le choix du background-color ou est-il est désaccord avec ce choix? La variable <code class=\"language-text\">rdn</code> étant utilisée ailleurs, le commentateur demande-il ici de renommer la variable dans tout le code ou simplement dans la fonction concernée? La suppression de la librairie dépréciée doit-elle être faite dans cette Pull Request ou bien peut-elle être faite plus tard?</p>\n<p>La pratique <a href=\"https://conventionalcomments.org/\">conventional comments</a> préconise de préfixer le commentaire par un mot-clé.</p>\n<p>En reprenant l'exemple précédent:</p>\n<ul>\n<li><strong>question:</strong> Pourquoi mettre le background-color à #F4F5F7? Était-ce dans la maquette?</li>\n<li><strong>suggestion:</strong> Pourquoi mettre le background-color à #F4F5F7? Je trouve que #FAFBFC propose un meilleur contraste.</li>\n</ul>\n<p>Je reprends la <a href=\"https://conventionalcomments.org/\">documentation officielle de conventional comment pour indiquer les mots-clés suggérés</a>:</p>\n<table>\n<thead>\n<tr>\n<th>Keyword</th>\n<th>Intention</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>nitpick:</strong></td>\n<td>Nitpicks are small, trivial, but necessary changes. Distinguishing  nitpick comments significantly helps direct the reader's attention to  comments requiring more involvement.</td>\n</tr>\n<tr>\n<td><strong>nitpick:</strong></td>\n<td>Nitpicks are small, trivial, but necessary changes. Distinguishing  nitpick comments significantly helps direct the reader's attention to  comments requiring more involvement.</td>\n</tr>\n<tr>\n<td><strong>suggestion:</strong></td>\n<td>Suggestions propose improvements to the current subject. It's important to be explicit and clear on <em>what</em> is being suggested and <em>why</em> it is an improvement. Consider using patches and the <em>blocking</em> or <em>non-blocking</em> <a href=\"https://conventionalcomments.org/#decorations\">decorations</a> to further communicate your intent.</td>\n</tr>\n<tr>\n<td><strong>issue:</strong></td>\n<td>Issues highlight specific problems with the subject under review.  These problems can be user-facing or behind the scenes. It is strongly  recommended to pair this comment with a <code class=\"language-text\">suggestion</code>. If you are not sure if a problem exists or not, consider leaving a <code class=\"language-text\">question</code>.</td>\n</tr>\n<tr>\n<td><strong>question:</strong></td>\n<td>Questions are appropriate if you have a potential concern but are  not quite sure if it's relevant or not. Asking the author for  clarification or investigation can lead to a quick resolution.</td>\n</tr>\n<tr>\n<td><strong>thought:</strong></td>\n<td>Thoughts represent an idea that popped up from reviewing. These  comments are non-blocking by nature, but they are extremely valuable and can lead to more focused initiatives and mentoring opportunities.</td>\n</tr>\n<tr>\n<td><strong>chore:</strong></td>\n<td>Chores are simple tasks that must be done before the subject can be  “officially” accepted. Usually, these comments reference some common  process. Try to leave a link to the process description so that the  reader knows how to resolve the chore.</td>\n</tr>\n</tbody>\n</table>\n<p>A présent, je vous invite à essayer et propager cette pratique au sein de votre équipe de développement. La communication sera plus claire !</p>"}},{"node":{"id":"8260adb1-60ab-5c84-b3d4-8d2cd78f5e2f","frontmatter":{"category":"GIT","date":"2020-12-19","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHcS2QgjB//xAAYEAADAQEAAAAAAAAAAAAAAAABAhEAEv/aAAgBAQABBQLFh0z8nQ01j//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAMAAwAAAAAAAAAAAAAAAAABERASIf/aAAgBAQAGPwI1Ji3o2f/EABoQAQEAAgMAAAAAAAAAAAAAAAEAESExQaH/2gAIAQEAAT8hiHbLHpLdW55pJE5v/9oADAMBAAIAAwAAABAv/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQMBAT8QyI//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QrX//xAAaEAEBAQEAAwAAAAAAAAAAAAABEQAhQVFh/9oACAEBAAE/EHpkERqQpz741cZLzWVky9li1MYAvpv/2Q==","aspectRatio":1.5037593984962405,"src":"/blog/static/8e80d5747391837f2d559797609ae4cb/14b42/business-pug-working-on-laptop.jpg","srcSet":"/blog/static/8e80d5747391837f2d559797609ae4cb/f836f/business-pug-working-on-laptop.jpg 200w,\n/blog/static/8e80d5747391837f2d559797609ae4cb/2244e/business-pug-working-on-laptop.jpg 400w,\n/blog/static/8e80d5747391837f2d559797609ae4cb/14b42/business-pug-working-on-laptop.jpg 800w,\n/blog/static/8e80d5747391837f2d559797609ae4cb/d8343/business-pug-working-on-laptop.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"message-de-commit-git","title":"Écrire un message de commit"},"excerpt":"Un commit représente un état du repository Git à un moment donné. Il contient les changements effectués lorsque la commande  a été exécutée…","html":"<p>Un commit représente un état du repository Git à un moment donné.</p>\n<p>Il contient les changements effectués lorsque la commande <code class=\"language-text\">commit</code> a été exécutée.</p>\n<p>Le but d'un système de contrôle de version est de pouvoir naviguer entre les différents états du code. Il est important de bien nommer ses commis pour se déplacer facilement et rapidement d'un état à un autre.</p>\n<h2>Quand faire un commit?</h2>\n<p>Afin de pouvoir nommer clairement un commit, celui-ci doit contenir que les changement répondant à un objectif simple, qui sera le nom du commit. On parle de <strong>commits atomiques</strong>.</p>\n<p>Il peut être plus compliqué à faire plusieurs petits commits quand on est habitué à en faire un gros à la fin d'un développement, mais une fois que l'on a la pratique, on se s'en passe plus !</p>\n<p>Les avantages sont multiples:</p>\n<ul>\n<li>le commit ne fait qu'une seule chose, il est donc simple à nommer</li>\n<li>lorsqu'un bug est identifié, on répère rapidement le commit correspondant et donc le bout de code correspondant</li>\n<li>comprendre <em>pourquoi</em> ce commit est nécessaire</li>\n<li>la revue de code - pull request - permet de faire relire le travail effectué à ses collègues. Lorsque le développement porte sur un grand nombre de fichiers et de commits, il peut-être judicieux de lire les modifications commit par commit pour mieux comprendre le cheminement de pensée du développeur. Il m'est déjà arrivé de lire des pull request avec une bonne cinquantaine de fichiers modifiés mais seulement quelques commits, c'est notamment le cas des pull request avec des montées de version de <em>dependencies</em>. Dans ce cas, la lecture commit par commit permet de vérifier les bonnes modifications apportées suite au changement de version pour cette dépendance précise; alors que ces informations seraient noyées dans la masse si l'on avait lu fichier par fichier.</li>\n<li>il est possible de réordonner ses commits, de les séparer en plusieurs, de les renommer, etc... et ainsi, garder l'historique de git propre. Préfére-t-on travailler avec cet historique:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">* 1a1e5af - Fix student\n* dd0dc95 - fix\n* ba41187 - Export PDF\n* ba41187 - Export button</code></pre></div>\n<p>ou bien celui-ci ?</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">* 1a1e5af - Fix displayed student name <span class=\"token keyword\">in</span> PDF <span class=\"token builtin class-name\">export</span>\n* dd0dc95 - Fix student grades PDF <span class=\"token builtin class-name\">export</span> <span class=\"token keyword\">for</span> IE9\n* 8cc4499 - Style <span class=\"token builtin class-name\">export</span> student grades button\n* ba41187 - Add button <span class=\"token keyword\">for</span> student to download his grades\n* 7dc668e - Create API endpoint <span class=\"token keyword\">for</span> student grades PDF <span class=\"token builtin class-name\">export</span></code></pre></div>\n<blockquote>\n<p>NB: Les commits sont affichés par date décroissante. Dans les exemple ci-dessus, le commit le plus récent est donc le premier affiché.</p>\n</blockquote>\n<h2>Comment nommer son commit?</h2>\n<h3>Se limiter à un nombre de caractères (par exemple 50 ou 80 caractères)</h3>\n<p>Cela force l'auteur à aller à l'essentiel dans l'intention de son commit, et facilite ainsi la lecture de ce commit dans le futur.</p>\n<h3>Ne pas mettre de ponctuation</h3>\n<p>Pourquoi ajouter de la ponctuation lorsque l'on tente déjà de limiter le nombre de caractères ?</p>\n<h3>Commencer par un verbe à l'impératif</h3>\n<p>Préférer <code class=\"language-text\">Fix button style in IE9</code> à <code class=\"language-text\">Fixed IE9 button display</code>/ <code class=\"language-text\">Some IE9 button display</code> car le commit explique ce que le commit apporte (et non pas ce qu'il a apporté).</p>\n<p>Un commit doit pouvoir compléter la phrase suivante:  <strong>If applied, this commit will <u>[commit name]</u></strong></p>\n<p>Par exemple:</p>\n<ul>\n<li>If applied, this commit will <u>improve images accessibility</u></li>\n<li>If applied, this commit will <u>fix button style in IE9</u></li>\n</ul>\n<h3>Rester consistent dans le nommage des commits</h3>\n<p>Surtout dans les projet en équipe, veillez à bien fixer les conventions de nommage de vos commits pour éviter de vous retrouver avec des commits de formats différents.</p>\n<h3>Utiliser le body du commit si nécessaire</h3>\n<p>Si le titre du commit ne suffit pas à expliquer le changement induit, il est possible alors de rajouter un body au commit.</p>\n<p>Comment? Lorsque l'on effectue un commit avec la commande <code class=\"language-text\">git commit</code>, un éditeur de texte s'ouvre dans le terminal. La première ligne écrite constitue le titre du commit. Il suffit alors de sauter de ligne deux fois pour commencer le body (c'est-à-dire qu'il faut laisser une ligne vide entre le titre et le body). Le commit ressemble alors à:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Handle Konami code\n\nWhen user press a combination of keyboard keys, a youtube video about our brand will start playing.\n  \n# Please enter the commit message for your changes. Lines starting\n# with '#' will be ignored, and an empty message aborts the commit.\n#\n# Date:      Fri Dec 18 17:25:26 2020 +0100\n#\n# On branch feat-my-new-feature-name\n# Changes to be committed:\n#       modified:   modified-file.js\n#\n</code></pre></div>\n<h3>Se baser sur la convention <em>Conventional commits</em></h3>\n<p>Cette <a href=\"https://www.conventionalcommits.org/en/v1.0.0/\">convention</a> établie un certain nombre de règles afin de créer un historique de commits explicite.</p>\n<p>Elle adopte un nom de commit sous la forme:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;type>[optional scope]: &lt;description>\n\n[optional body]\n\n[optional footer(s)]</code></pre></div>\n<p><a href=\"https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines\">Angular</a> s'inspire de cette convention pour leurs noms de commit.</p>\n<p>Si je reprend la convention d'Angular:</p>\n<p><strong>Type</strong> peut prendre les valeurs suivantes:</p>\n<ul>\n<li><strong>build</strong>: changements qui affectent le build ou les dépendances externes (ex: gulp, broccoli, npm)</li>\n<li><strong>ci</strong>: changements de la conf CI (ex: Travis, Circle, BrowserStack, SauceLabs)</li>\n<li><strong>docs</strong>: changements concernant la documentation</li>\n<li><strong>feat</strong>: nouvelle fonctionnalité</li>\n<li><strong>fix</strong>: correction de bug</li>\n<li><strong>perf</strong>: amélioration de performance</li>\n<li><strong>refactor</strong>: un changement dans le code qui n'apporte pas de nouvelle fonctionnalité ni ne corrige de bug</li>\n<li><strong>style</strong>: changement qui n'affecte pas le fonctionnent du code (ex: espace, formattage de code, points-virgules manquants, etc)</li>\n<li><strong>Test</strong>: ajout ou correction de tests</li>\n</ul>\n<p><strong>Scope</strong> est une information optionnelle sur le package npm affecté. Il peut prendre les valeurs suivantes:</p>\n<ul>\n<li><strong>animations</strong></li>\n<li><strong>common</strong></li>\n<li><strong>compiler</strong></li>\n<li><strong>compiler-cli</strong></li>\n<li><strong>core</strong></li>\n<li><strong>elements</strong></li>\n<li><strong>forms</strong></li>\n<li><strong>http</strong></li>\n<li><strong>language-service</strong></li>\n<li><strong>platform-browser</strong></li>\n<li><strong>platform-browser-dynamic</strong></li>\n<li><strong>platform-server</strong></li>\n<li><strong>platform-webworker</strong></li>\n<li><strong>platform-webworker-dynamic</strong></li>\n<li><strong>router</strong></li>\n<li><strong>service-worker</strong></li>\n<li><strong>upgrade</strong></li>\n</ul>\n<p>Cela donne un historique de commits de la forme:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* 1a1e5af - style: fix ‘my-component‘ indentation\n* dd0dc95 - docs: correct spelling for ‘my-component‘\n* 8cc4499 - feat: create ‘my-component‘</code></pre></div>"}},{"node":{"id":"3d10e792-b674-58b7-bfb8-c88664501ad3","frontmatter":{"category":"CSS","date":"2020-12-14","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYtJIP/8QAGBAAAgMAAAAAAAAAAAAAAAAAAhEAARD/2gAIAQEAAQUCIXKGLFWf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/AiL/AP/EABsQAQACAgMAAAAAAAAAAAAAAAEAMRBRIUGB/9oACAEBAAE/IeI6h9r1gCiWQ1GP/9oADAMBAAIAAwAAABDX7//EABYRAQEBAAAAAAAAAAAAAAAAAAEQQf/aAAgBAwEBPxAcn//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EEn/xAAbEAADAAIDAAAAAAAAAAAAAAAAARExcVFhkf/aAAgBAQABPxCdFvBZQjK9EEcQl0iKTxsQx5DcP//Z","aspectRatio":1.5037593984962405,"src":"/blog/static/55dc9c0bbfa4f815b51d37bebc366ccd/14b42/pastel-colored-ball-point-pens.jpg","srcSet":"/blog/static/55dc9c0bbfa4f815b51d37bebc366ccd/f836f/pastel-colored-ball-point-pens.jpg 200w,\n/blog/static/55dc9c0bbfa4f815b51d37bebc366ccd/2244e/pastel-colored-ball-point-pens.jpg 400w,\n/blog/static/55dc9c0bbfa4f815b51d37bebc366ccd/14b42/pastel-colored-ball-point-pens.jpg 800w,\n/blog/static/55dc9c0bbfa4f815b51d37bebc366ccd/d8343/pastel-colored-ball-point-pens.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"nommer-variables-couleurs-sass","title":"Nommer les variables de couleurs Sass"},"excerpt":"Extraire les couleurs dans des variables Sass permet de centraliser les couleurs utilisées et de faciliter leur réutilisation. Cela permet…","html":"<p>Extraire les couleurs dans des variables Sass permet de centraliser les couleurs utilisées et de faciliter leur réutilisation. Cela permet notamment d'avoir une palette de couleurs cibles pour le site et de ne pas s'en éloigner. Je préfère utiliser un unique fichier <code class=\"language-text\">colors.scss</code> pour retrouver mes variables facilement.</p>\n<p>Au fur et à mesure que les couleurs sont recensées, ce fichier grossit et finit par ne plus ressembler à rien, avec de nombreuses couleurs éparpillées dans tous les sens. Il est impossible de s'y retrouver:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$success</span></span><span class=\"token punctuation\">:</span> #57C884<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$grey</span></span><span class=\"token punctuation\">:</span> #FAFBFC<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$grey2</span></span><span class=\"token punctuation\">:</span> #A5ADBA<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$warning</span></span><span class=\"token punctuation\">:</span> #FFBE00<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$yellow</span></span><span class=\"token punctuation\">:</span> #FFBE00<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Comment organiser ces variables?</p>\n<h2>Numéroter les variantes de couleurs</h2>\n<p>Au cours de mes missions, j'ai croisé ce type de choix de variable, suffixé par un nombre. Le palier entre les nombres permet de garder une couleur grise d'intensité croissante.</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$grey-10</span></span><span class=\"token punctuation\">:</span> #97A0AF<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$grey-20</span></span><span class=\"token punctuation\">:</span> #8993A4<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$grey-30</span></span><span class=\"token punctuation\">:</span> #7A869A<span class=\"token punctuation\">;</span></code></pre></div>\n<p>En essayant de limiter le nombre de couleurs déclarées, lorsque la couleur utilisée est ponctuelle, nous avons préféré utilisé les fonctions Sass <code class=\"language-text\">darken</code> and <code class=\"language-text\">lighten</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.my-class </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">lighten</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$grey-1</span><span class=\"token punctuation\">,</span> 10%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.another-class </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">darken</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$grey-1</span><span class=\"token punctuation\">,</span> 10%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>avantage</strong>: La couleur est indiquée dès la lecture de la variable.</p>\n<p><strong>problème:</strong> Comment gérer la suppression de variable? <code class=\"language-text\">$grey-20</code>par exemple? Faudra-t-il décaler la numérotation? Aussi, que représente <code class=\"language-text\">$grey-20</code>? Est-ce la couleur du menu ou du bouton déjà? ...</p>\n<h2>Utiliser un nom de couleur unique</h2>\n<p>J'ai aussi découvert que d'autres préfèrent générer un nom unique à toutes leurs variables, par exemple à l'aide de ce site <a href=\"https://chir.ag/projects/name-that-color\">Name that color</a>. Ce qui donne:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$tropical-blue</span></span><span class=\"token punctuation\">:</span> #CCDDFA<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$jordy-blue</span></span><span class=\"token punctuation\">:</span> #8BB2F4<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$cornflower-blue</span></span><span class=\"token punctuation\">:</span> #6195ED<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>avantage</strong>: La couleur est indiquée dès la lecture de la variable.</p>\n<p><strong>problème:</strong> Comme dans le cas précédent où les noms de variables sont numérotés, nous perdons ici le contexte d'utilisation de la variable.</p>\n<h2>Indiquer la fonctionnalité de la variable</h2>\n<p>Dans beaucoup de projets, la fonctionnalité de la variable est indiqué dans son nom:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$error</span></span><span class=\"token punctuation\">:</span> #FF4B00<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$success</span></span><span class=\"token punctuation\">:</span> #57C884<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$warning</span></span><span class=\"token punctuation\">:</span> #FFBE00<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>avantage</strong>: La fonctionnalité est indiquée dès la lecture de la variable...</p>\n<p><strong>problème:</strong> ...mais nous perdons de vue la couleur derrière ce nommage.</p>\n<h2>Ma préférence</h2>\n<p>Combiner les propositions précédentes:</p>\n<ul>\n<li>\n<p>numéroter les couleurs pour faciliter l'insertion de nouvelles couleurs</p>\n</li>\n<li>\n<p>ordonner les couleurs par intensité</p>\n</li>\n<li>\n<p>lorsque la couleur utilisée est ponctuelle, nous avons préféré utilisé les fonctions Sass <code class=\"language-text\">darken</code>and <code class=\"language-text\">lighten</code> directement dans la classe css plutôt que de la déclarer dans <code class=\"language-text\">colors.scss</code></p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token comment\">// colors</span>\n<span class=\"token property\"><span class=\"token variable\">$grey-100</span></span><span class=\"token punctuation\">:</span> #27251F<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$grey-200</span></span><span class=\"token punctuation\">:</span> #353432<span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$grey-300</span></span><span class=\"token punctuation\">:</span> #545452<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// elements</span>\n<span class=\"token property\"><span class=\"token variable\">$dropdown-background</span></span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$grey-100</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$footer-border</span></span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$grey-200</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$banner-text</span></span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$grey-100</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>De cette manière, il est simple de modifier les couleurs ou de renommer/ajouter/supprimer les variables.</p>\n<p>Si plusieurs éléments ont la même couleur, il suffit de créer une nouvelle entrée dans les éléments plutôt que de dupliquer les variables de couleur.</p>\n<p>Attention, si le nombre de couleurs est trop important il faudrait le signaler au designer. Est-ce que le style guide du site est bien défini ? S'éloigne-t-on de l'image de la marque ?</p>\n<p>Cette solution de nommage de couleurs est une solution parmi d'autres.<br>\nJe ne prétends pas avoir trouvé la meilleure astuce, mais elle me semble satisfaisante pour le moment.</p>"}},{"node":{"id":"31660524-146e-53f9-84fd-f193741df10f","frontmatter":{"category":"DESIGN SYSTEM","date":"2020-12-09","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAGnEumlAm//xAAZEAADAQEBAAAAAAAAAAAAAAABAgMRACH/2gAIAQEAAQUCjMLzpnBsG+XQNIIc/8QAFREBAQAAAAAAAAAAAAAAAAAAEDH/2gAIAQMBAT8Bh//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAgEBPwE1f//EAB0QAAICAQUAAAAAAAAAAAAAAAABAhEhEjJBkaH/2gAIAQEABj8Cv01ylgzF9CS5kUbj/8QAGxABAQEAAgMAAAAAAAAAAAAAAREAIUExUYH/2gAIAQEAAT8hEjl7WNqA8ke8ICH3gr0IOqtOfJoEj5v/2gAMAwEAAgADAAAAEBwv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERUf/aAAgBAwEBPxBKoiaf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxCErMP/xAAcEAEAAwACAwAAAAAAAAAAAAABABExIUFRgeH/2gAIAQEAAT8Q2o/GRK5goD0zdyePmi5PUCgV5LuiJnBD2WSgKAoAz//Z","aspectRatio":1.5037593984962405,"src":"/blog/static/e39f077fa4c8d3933a49832de84a1660/14b42/feedback-for-web-design-mockups.jpg","srcSet":"/blog/static/e39f077fa4c8d3933a49832de84a1660/f836f/feedback-for-web-design-mockups.jpg 200w,\n/blog/static/e39f077fa4c8d3933a49832de84a1660/2244e/feedback-for-web-design-mockups.jpg 400w,\n/blog/static/e39f077fa4c8d3933a49832de84a1660/14b42/feedback-for-web-design-mockups.jpg 800w,\n/blog/static/e39f077fa4c8d3933a49832de84a1660/d8343/feedback-for-web-design-mockups.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"introduction-design-system","title":"Introduction et retour d'expérience sur les design system"},"excerpt":"Chez mon client j'ai eu l'occasion de participer à la mise en place d'un design system. Je vais partager dans cet article les problèmes que…","html":"<p>Chez mon client j'ai eu l'occasion de participer à la mise en place d'un design system.</p>\n<p>Je vais partager dans cet article les problèmes que nous avons rencontrés qui ont amenés à la mise en place de ce design system et comment nous intégrons ce design system dans notre environnement de travail.</p>\n<h2>Les problèmes</h2>\n<p>Nous avons plusieurs applications web qui sont chacune maintenues par des équipes différentes. Bien que toutes les équipes sont proches et communiquent ensemble, nous avons parfois l'impression de coder plusieurs fois la même chose sur chaque application.</p>\n<p>En effet, ces applications représentent la même marque et sont donc visuellement similaires: même typographie, mêmes couleurs, mêmes icônes, etc. On retrouve aussi les mêmes blocs d'éléments graphiques dans plusieurs applications (boutons identiques, style de lien similaire, pareil concenant la navigation, etc).</p>\n<p>Cependant, même si nous avons la volonté de faire des applications avec le même style, nous nous rendons compte qu'il est trop facile de diverger.</p>\n<p><strong>Résultat</strong>: nous avons fini par nous retrouver avec des palettes de couleurs différentes pour chaque application, des champs 'date' visuellement identique mais au comportement différent (dans un cas, l'utilisateur avait le focus automatiquement au champs 'mois' après avoir saisi le 'jour' alors que dans un autre cas il fallait qu'il change le champs manuellement), etc.</p>\n<p>Cela entraîne:</p>\n<ul>\n<li>une incohérence visuelle dans l'écosystème → dette design</li>\n<li>une redondance et duplication de code → dette technique</li>\n<li>une perte de temps (et d'argent pour le client)</li>\n<li>une perte d'identité visuelle de la marque (pour l'utilisateur, il peut ne pas remarquer qu'il s'agit d'applications de la même marque)</li>\n<li>une expérience utilisateur dégradée</li>\n</ul>\n<h2>La solution adoptée</h2>\n<p>Nous avons alors choisi de mettre en place un design system.</p>\n<p>Le design system est un terme large qui regroupe:</p>\n<ul>\n<li>un style guide</li>\n<li>une bibliothèque de référence</li>\n</ul>\n<p>Le <strong>style guide</strong>, comme son nom l'indique, est un guide contenant le style graphique qui constitue l'identité unique de la marque. Nous y trouvons des informations sur les couleurs, les polices utilisées, les images, etc. Mais il ne contient pas seulement des éléments visuels, mais aussi des éléments explicatifs (par exemple quand utiliser telle ou telle couleur).</p>\n<p>Nous nous sommes orientés vers ZeroHeight pour mettre en place ce style guide:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/3939d7926d6a0184ddb5aa9073ce4857/d5a26/20201209_zeroheight.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/klEQVQoz31Sia6EIBDj/7/zxV0PbuXWvgwbNopmm0w4hE5bZNwExJhwHMelevTfW+UQUUqpcxqZFBzW2sslgvce4zhiWRaklB5JG+g7Vc4ZTCkF59ztIO0Nw1CLyBth33jfd2itEWOspIwWvQpCcB6Gy592WxFpAzPG3CwRtm0DqafDLaNfObc9RvmRSrp0Vkh5tGoN181jWiTek8B7Fihlvwmpls+Pch57bM5jnCVmrrAIfVH3tbyuaw30ibC3J5TF32vGxBVeIweX5kZaMyRbT6/XN0g5I6aMXEodad2fYdZ8LJ+Db/8hqQ8h1Dk1cC5ASAOpLZRev697tvwP6zgSl7Z2PvoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interface ZeroHeight\"\n        title=\"interface ZeroHeight\"\n        src=\"/blog/static/3939d7926d6a0184ddb5aa9073ce4857/fcda8/20201209_zeroheight.png\"\n        srcset=\"/blog/static/3939d7926d6a0184ddb5aa9073ce4857/12f09/20201209_zeroheight.png 148w,\n/blog/static/3939d7926d6a0184ddb5aa9073ce4857/e4a3f/20201209_zeroheight.png 295w,\n/blog/static/3939d7926d6a0184ddb5aa9073ce4857/fcda8/20201209_zeroheight.png 590w,\n/blog/static/3939d7926d6a0184ddb5aa9073ce4857/efc66/20201209_zeroheight.png 885w,\n/blog/static/3939d7926d6a0184ddb5aa9073ce4857/c83ae/20201209_zeroheight.png 1180w,\n/blog/static/3939d7926d6a0184ddb5aa9073ce4857/d5a26/20201209_zeroheight.png 3578w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Cette image est tirée du <a href=\"https://1024pix.github.io/pix-ui/\">Storybook de Pix</a>.</p>\n<p>La <strong>bibliothèque de référence</strong> contient des éléments réutilisables: maquettes, fichiers Astract/Sketch/etc, bout de code...</p>\n<p>Nous avons implémenté la bibliothèque de référence sous <a href=\"https://storybook.js.org\">Storybook</a>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/53d5e97d8974d33d6f2624d60be54ec5/b6425/20201209_storybook.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.05405405405406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABa0lEQVQ4y52U306DMBSH+/5v4J3xGXyPXeiVxjkZgw1WoKX/S/mZEladM8vGSb5w2sLHyWmB0PyIXUXBpUGnPHZigDQW1nkY66CNnVDGodcWfghXIW3bo245OqHBlEPRcDSMQ9ko9glhPPqYx/krkJIyUCamQXxIzwvCDBD2B5nm/VVIxSWKil7cLK2/qFDcUmEtNT6+ctCuP5P+zW+F5JTj0LDUo0kyy+4RJWGUHY8U44hpZ5eKknBVcqw2FVbbFuvW3tT4/0jCxzeNpxeKh9cez5mD98sqS7vcdg12WYZmX6IXEnsV0EsFpXRCz1cZ0QZC6enQx7GeP4J0sHPKsM5L7BuOTlpYP0A7j2AMnDHwxky5ndHOYRgCYtNDCBjHceIUpOw4smKPsm7ApcbSOIlJ0TK8f2b4zHZgvTpbXALZlDWKQw3pArQbLoT3voBsDxQV7aadij+E34JTfk+QTXkEExrShgvhkgq/AZmP3+8vfL/4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interface storybook\"\n        title=\"interface storybook\"\n        src=\"/blog/static/53d5e97d8974d33d6f2624d60be54ec5/fcda8/20201209_storybook.png\"\n        srcset=\"/blog/static/53d5e97d8974d33d6f2624d60be54ec5/12f09/20201209_storybook.png 148w,\n/blog/static/53d5e97d8974d33d6f2624d60be54ec5/e4a3f/20201209_storybook.png 295w,\n/blog/static/53d5e97d8974d33d6f2624d60be54ec5/fcda8/20201209_storybook.png 590w,\n/blog/static/53d5e97d8974d33d6f2624d60be54ec5/efc66/20201209_storybook.png 885w,\n/blog/static/53d5e97d8974d33d6f2624d60be54ec5/c83ae/20201209_storybook.png 1180w,\n/blog/static/53d5e97d8974d33d6f2624d60be54ec5/b6425/20201209_storybook.png 2336w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Sur l'image (tirée de <a href=\"https://next--storybookjs.netlify.app/official-storybook/?path=/story/addons-a11y-basebutton--default\">https://next--storybookjs.netlify.app/official-storybook/?path=/story/addons-a11y-basebutton--default</a>), la liste des composants est à gauche. En cliquant dessus, le rendu visuel, un exemple d'utilisation du composant et une documentation s'affichent.</p>\n<blockquote>\n<p>Je vous invite aussi à consulter d'autre exemples sur Storybook et ZeroHeight:</p>\n<ul>\n<li>exemples ZeroHeight: <a href=\"https://zeroheight.com/showcase\">https://zeroheight.com/showcase</a></li>\n<li>exemples Storybook: <a href=\"https://storybook.js.org/docs/react/get-started/examples\">https://storybook.js.org/docs/react/get-started/examples</a></li>\n</ul>\n</blockquote>\n<h2>Place du design system dans notre organisation</h2>\n<p>Le design system a été mis en place depuis maintenant plusieurs mois chez mon client.</p>\n<p>Il sert de base de communication entre les développeurs et les UX/UI designers. Il permet aussi de garder une cohérence visuelle entre les différentes applications.</p>\n<p>Le design system n'est pas figé: il est évolutif et réutilisable. Tout comme nos applications front ne cessent d'évoluer et d'être enrichies, le design system évolue également.</p>\n<p>Nous n'avons pas d'équipe dédié spécifiquement au design system. Chaque développeur, lorsqu'il développe, doit se poser les questions suivantes:</p>\n<ul>\n<li>ce bloc est-il déjà présent dans les applications ?</li>\n<li>le designer a-t-il identifié des blocs comme étant réutilisables ?</li>\n</ul>\n<p>Si c'est le cas, ce bloc a sa place dans le design system.</p>\n<blockquote>\n<p>Développer ce bloc à part dans le design system et l'importer ensuite peut sembler plus long et fastidieux, mais il s'agit au final d'un gain de temps puisqu'il sera réutilisé.</p>\n</blockquote>"}},{"node":{"id":"e40502ae-3bc4-5ef3-8340-2b787971de7f","frontmatter":{"category":"FLUTTER","date":"2020-03-29","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHQDj50C2j/xAAaEAACAwEBAAAAAAAAAAAAAAABEQIDEgAx/9oACAEBAAEFAroIaizWyznJPH3/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwGI/8QAFhEBAQEAAAAAAAAAAAAAAAAAABIB/9oACAECAQE/AaxT/8QAHBAAAQMFAAAAAAAAAAAAAAAAAAECERAhMkGh/9oACAEBAAY/AppkQil3cNn/xAAbEAEAAgIDAAAAAAAAAAAAAAABABFBoSGBkf/aAAgBAQABPyEwrxNCGjlMI7lC06BCFL9T/9oADAMBAAIAAwAAABDI7//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EBz/AP/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EGD/xAAfEAEAAgEDBQAAAAAAAAAAAAABABEhMUGxYXGBwfD/2gAIAQEAAT8QKuDGtHSW0CqG9C8xKnK9n3KUgucgB7MWrgUriiKvj8T/2Q==","aspectRatio":1.5037593984962405,"src":"/blog/static/e5dfb4307ad677993f6c9467febb3c27/14b42/hands_typing.jpg","srcSet":"/blog/static/e5dfb4307ad677993f6c9467febb3c27/f836f/hands_typing.jpg 200w,\n/blog/static/e5dfb4307ad677993f6c9467febb3c27/2244e/hands_typing.jpg 400w,\n/blog/static/e5dfb4307ad677993f6c9467febb3c27/14b42/hands_typing.jpg 800w,\n/blog/static/e5dfb4307ad677993f6c9467febb3c27/d8343/hands_typing.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"lancement-de-flutter","title":"Lancement de ma première application Flutter sur mobile Android"},"excerpt":"Après avoir installé Flutter sur mon Macbook, la deuxième étape est de pouvoir lancer une application sur mon téléphone. ##Préparer le…","html":"<p>Après avoir <a href=\"https://celineung.github.com/blog/installation-de-flutter-sur-macos\">installé Flutter sur mon Macbook</a>, la deuxième étape est de pouvoir lancer une application sur mon téléphone.</p>\n<p>##Préparer le lancement dans un navigateur web</p>\n<p>Pour pouvoir lancer une application dans un navigateur Chrome, il faut basculer sur la version beta de Flutter et activer l'option --enable-web:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter channel beta \n$ flutter upgrade \n$ flutter config --enable-web</code></pre></div>\n<p>Désormais, Flutter détecte le navigateur Chrome avec la commande flutter devices, qui retourne:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter devices\n\n3 connected devices:\nChrome     • chrome      • web-javascript • Google Chrome 80.0.3987.149\nWeb Server • web-server  • web-javascript • Flutter Tools</code></pre></div>\n<p>##Créer une application</p>\n<p>Il suffit de créer lancer la commander flutter create suivi du nom de mon application:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter create my_application</code></pre></div>\n<p>Pour le lancer sur Chrome:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd my_application\n$ flutter run -d chrome</code></pre></div>\n<p>##Lancer sur mon téléphone mobile</p>\n<p>Avant de pouvoir lancer une application sur un vrai téléphone Android, il faut y activer le USB debugging:</p>\n<ol>\n<li>Activer le <strong>Developer options</strong>: la procédure dépend de la version Android: sur mon téléphone avec Android 9, je me suis rendue dans About phone > Software information et j'ai cliqué 7 fois sur \"Build number\". Si vous avez une autre version d'Android, veuillez vous référer à ce lien: <a href=\"https://developer.android.com/studio/debug/dev-options\">https://developer.android.com/studio/debug/dev-options</a></li>\n<li>Une nouvelle option dans le menu Settings apparaît: \"Developer options\"</li>\n<li>Activer les \"Developer options\"</li>\n<li>En connectant le téléphone à l'ordinateur, un message apparaît pour confirmer l'accès du téléphone à l'ordinateur. Accepter.</li>\n<li>En utilisant la commande <em>flutter devices</em>, le téléphone apparaît désormais dans la liste:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter devices\n\n3 connected devices:\nSM N975F   • RF8M90BX06J • android-arm64  • Android 9 (API 28)\nChrome     • chrome      • web-javascript • Google Chrome 80.0.3987.149\nWeb Server • web-server  • web-javascript • Flutter Tools</code></pre></div>\n<p>De la même manière que pour démarrer l'application sur un navigateur, pour la lancer sur notre téléphone, il suffit de lancer:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter run -d RF8M90BX06J</code></pre></div>"}},{"node":{"id":"3c075e9d-b15f-5901-8db0-9f27b14f87a0","frontmatter":{"category":"JS","date":"2020-03-27","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCA//EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHrqoFIvWn/AP/EABoQAAIDAQEAAAAAAAAAAAAAAAECAAMREyL/2gAIAQEAAQUCI86ebWXLMEKgpWgC/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8BlY//xAAaEQABBQEAAAAAAAAAAAAAAAAAAQIREiFh/9oACAECAQE/Aa7IjuH/xAAbEAACAQUAAAAAAAAAAAAAAAAAAREQEiIjMf/aAAgBAQAGPwItjE1pQcFT/8QAGhAAAgMBAQAAAAAAAAAAAAAAAREAITFBYf/aAAgBAQABPyG/g8fIhwPkPAUvkQEAUHSV8iZt9uf/2gAMAwEAAgADAAAAEBz/AP/EABcRAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQMBAT8QEvM227//xAAYEQADAQEAAAAAAAAAAAAAAAAAAREhkf/aAAgBAgEBPxB1oJSkcP/EAB4QAQEAAQMFAAAAAAAAAAAAAAERACFBYTFxgZGx/9oACAEBAAE/EHXdZju8M2AmJR7XFrZTl5cBSx0Jk0ypUg/M0iZWsr3M/9k=","aspectRatio":1.5037593984962405,"src":"/blog/static/50a34b9552760e8d0bd7a62398decc31/14b42/hands_writing_in_journal_at_the_table.jpg","srcSet":"/blog/static/50a34b9552760e8d0bd7a62398decc31/f836f/hands_writing_in_journal_at_the_table.jpg 200w,\n/blog/static/50a34b9552760e8d0bd7a62398decc31/2244e/hands_writing_in_journal_at_the_table.jpg 400w,\n/blog/static/50a34b9552760e8d0bd7a62398decc31/14b42/hands_writing_in_journal_at_the_table.jpg 800w,\n/blog/static/50a34b9552760e8d0bd7a62398decc31/d8343/hands_writing_in_journal_at_the_table.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"inclure-libraries-externes-personnelles","title":"Inclure mes libraries externes à mes projets front"},"excerpt":"J'ai récemment eu l'occasion de développer une librairie de composants, et je souhaiterais rendre les utilisables dans mes projets sans…","html":"<p>J'ai récemment eu l'occasion de développer une librairie de composants, et je souhaiterais rendre les utilisables dans mes projets <strong>sans avoir à publier la librairie sur npm</strong>.</p>\n<p>La structure de mon projet se présente de cette façon:</p>\n<ul>\n<li>my-repo\n<ul>\n<li>ui-components</li>\n<li>project1</li>\n</ul>\n</li>\n</ul>\n<p>Pour info, mon project1 est une application front Ember, et ui-components est un ensemble d'<a href=\"https://cli.emberjs.com/release/writing-addons/\">addons Ember</a>.</p>\n<p>Le but est de pouvoir accéder aux composants de ui-components depuis projet1.</p>\n<p>Les solutions abordées dans cet article seront:</p>\n<ul>\n<li>inclusion du module via filepath</li>\n<li>npm link</li>\n<li>npm workspace</li>\n<li>repository github</li>\n</ul>\n<p>##inclusion du module via filepath</p>\n<p>La solution la plus simple pour l'exemple étudié ici serait de spécifier directement l'emplacement du module dans le package.json:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// project1/package.json\n\"devDependencies\": { \n  \"ui-components\": \"file:../ui-components\" \n}</code></pre></div>\n<p>Il suffit ensuite de faire un npm install ! On voit apparaître le dossier pix-ui dans le node_modules de project1.</p>\n<p>##npm link</p>\n<p>La deuxième piste explorée est l'utilisation de npm-link.</p>\n<p><em>npm-link</em> permet de charger un module depuis n'importe quel chemin sur l'ordinateur.</p>\n<p>Il s'utilise de la manière suivante:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd ui-components\n$ npm link\n$ cd ../project1\n$ npm link ui-components\n</code></pre></div>\n<p>La dernière commande npm link ui-components affiche sur la console:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/path/to/project1/node_modules/ui-components -> /usr/local/lib/node_modules/ui-components -> /path/to/ui-components</code></pre></div>\n<p>Il est explicite que derrière ces commandes, npm link crée un lien symbolique de ui-components vers notre node_modules global, puis de là vers le node_modules local de project1.</p>\n<p>Il est possible de faire afficher clairement ce lien symbolique:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ ls -al $(npm root -g)\nlrwxr-xr-x   1 username  admin    59B Mar 18 16:58 ui-components@ -> /path/to/ui-components</code></pre></div>\n<p>Ce n'est pas terminé, il faut définir dans le package.json de project1 la dépendance vers ui-components:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// project1/package.json\n\"devDependencies\": {\n  \"ui-components\": \"*\"\n}</code></pre></div>\n<p>Voilà! Il est désormais possible de faire npm install depuis project1 et d'utiliser les composants de ui-components depuis project1.</p>\n<blockquote>\n<p>Pour info, il est possible de supprimer ces liens de la même manière que l'on supprimerait des liens symboliques.</p>\n</blockquote>\n<blockquote>\n<p>Sinon, il est aussi possible d'exécuter npm unlink ui-components depuis project1 pour supprimer le lien symbolique local, puis npm unlink depuis ui-components pour supprimer le lien symbolique global.</p>\n</blockquote>\n<p>##npm-workspace</p>\n<p>npm-workspace est en quelque sorte un wrapper de npm link: il permet de centraliser les liens et nous évite d'avoir à écrire sur notre terminal tous les npm link manuellement.</p>\n<p>Il s'installe de manière globale:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm install -g npm-workspace</code></pre></div>\n<p>En considérant les mêmes projets (ui-components et project1), il suffit de créer un fichier workspace.json dans project1 contenant le nom du module et son chemin:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// project1/workspace.json\n{\n  \"links\": {\n    \"ui-components\": \"../ui-components\"\n  }\n}</code></pre></div>\n<p>Comme précédemment, il faut indiquer le nom de notre module dans le package.json:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// project1/package.json\n\"devDependencies\": {\n  \"ui-components\": \"*\"\n}</code></pre></div>\n<p>Puis il suffit de lancer la commande npm-workspace install qui crée nos liens symboliques puis lance un npm install des autres modules:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npm-workspace install</code></pre></div>\n<p>##repository github</p>\n<p>La dernière piste explorée consiste à simplement mettre le lien de notre librairie dans le package.json. D'après la documentation de <a href=\"https://docs.npmjs.com/cli/install\">npm install</a>, il est possible de spécifier l'installation de notre module via son chemin et sa branche github, bitbucket, ou encore gitlab.</p>\n<p>Toutefois cela nécessite que ui-components soit dans un repo entièrement séparé de project1. Je n'ai pas réussi à le faire fonctionner en les mettant tous les deux dans le même repo. Il semblerait que npm ne gère pas encore cela.</p>\n<p>Si j'avait mis les deux dans des repos séparés, il aurait suffit de modifier le package.json de cette manière:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// project1/package.json\n\"devDependencies\": { \n  \"ui-components\": \"github:username/ui-components#my-branch-name\" \n}</code></pre></div>\n<p>Il suffit ensuite de lancer <code class=\"language-text\">npm install</code> et la dépendance sera utilisable!</p>"}},{"node":{"id":"e335c971-f38e-53f4-aa36-9fa873816868","frontmatter":{"category":"FLUTTER","date":"2020-03-26","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHQDj50C2j/xAAaEAACAwEBAAAAAAAAAAAAAAABEQIDEgAx/9oACAEBAAEFAroIaizWyznJPH3/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwGI/8QAFhEBAQEAAAAAAAAAAAAAAAAAABIB/9oACAECAQE/AaxT/8QAHBAAAQMFAAAAAAAAAAAAAAAAAAECERAhMkGh/9oACAEBAAY/AppkQil3cNn/xAAbEAEAAgIDAAAAAAAAAAAAAAABABFBoSGBkf/aAAgBAQABPyEwrxNCGjlMI7lC06BCFL9T/9oADAMBAAIAAwAAABDI7//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EBz/AP/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EGD/xAAfEAEAAgEDBQAAAAAAAAAAAAABABEhMUGxYXGBwfD/2gAIAQEAAT8QKuDGtHSW0CqG9C8xKnK9n3KUgucgB7MWrgUriiKvj8T/2Q==","aspectRatio":1.5037593984962405,"src":"/blog/static/e5dfb4307ad677993f6c9467febb3c27/14b42/hands_typing.jpg","srcSet":"/blog/static/e5dfb4307ad677993f6c9467febb3c27/f836f/hands_typing.jpg 200w,\n/blog/static/e5dfb4307ad677993f6c9467febb3c27/2244e/hands_typing.jpg 400w,\n/blog/static/e5dfb4307ad677993f6c9467febb3c27/14b42/hands_typing.jpg 800w,\n/blog/static/e5dfb4307ad677993f6c9467febb3c27/d8343/hands_typing.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"installation-de-flutter-sur-macos","title":"Installation de Flutter sur MacOS"},"excerpt":"Flutter est un framework de conception d'applications multiplateforme pour Android et ios. Cet article détaillera les étapes d'installations…","html":"<p>Flutter est un framework de conception d'applications multiplateforme pour Android et ios. Cet article détaillera les étapes d'installations de Flutter sur Mac.</p>\n<p>##Récupération du SDK Flutter</p>\n<p>Pour commencer, il faut récupérer le SDK de Flutter. L'installation de Flutter inclu aussi Dart. Il n'y a donc pas besoin de l'installer manuellement.</p>\n<p>Pour récupérer Flutter, le plus simple est de cloner le repository git:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Dans /workspace\n$ git clone https://github.com/flutter/flutter.git -b stable</code></pre></div>\n<p>Mais il est aussi possible de le télécharger ici <a href=\"https://flutter.dev/docs/development/tools/sdk/releases\">https://flutter.dev/docs/development/tools/sdk/releases</a>, puis de dézipper le fichier télécharger.</p>\n<p>Afin de pouvoir utiliser Flutter en ligne de commande, il faut le déclarer soit dans $HOME/.bash_profile ou dans $HOME/.bashrc:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Dans$HOME/.bash_profile\nexport FLUTTER_PATH=/workspace/flutter/bin export PATH=\"$PATH:$FLUTTER_PATH\"</code></pre></div>\n<p>Rafraichir notre session avec la commande:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$HOME/.bash_profile</code></pre></div>\n<p><code class=\"language-text\">flutter doctor</code> peut alors être utilisée. Il s'agit d'une commande qui permet de savoir si toutes les dépendances requises sont bien installées:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter doctor</code></pre></div>\n<p>La réponse obtenue à l'écran nous amène à l'étape suivante de l'installation: le setup d'Android Studio.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Doctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel stable, v1.12.13+hotfix.8, on Mac OS X 10.15.3 19D76,\n    locale en-FR)\n[-] Android toolchain - develop for Android devices\n    • Android SDK at /Users/obiwan/Library/Android/sdk\n    ✗ Android SDK is missing command line tools; download from https://developer.android.com/studio#downloads\n    • Try re-installing or updating your Android SDK,\n      visit https://flutter.dev/setup/#android-setup for detailed instructions.</code></pre></div>\n<p>##Récupération du SDK Android</p>\n<p>La commande <code class=\"language-text\">flutter doctor</code> nous indique où télécharger Android Studio: \"download from <a href=\"https://developer.android.com/studio#downloads\">https://developer.android.com/studio#downloads</a>\". Ce lien amène à télécharger un fichier exécutable Mac.</p>\n<p>Après l'avoir lancé, nous configurons l'IDE via le \"Android Studio Setup Wizard\" et nous finissons par arriver à l'écran suivant:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/4f159690e9575f46a5894234a650d4a1/10ab7/sdk_manager.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACXklEQVQ4y42SW2sTQRTH83kUfFGwNnvLXmZ3ZzZ732R7Ax8sVFAogoKKor1p2ocmTcA+2AdB/ATWfoYkRRC/gP0SaUts/zIT06YXWwd+zM7hzH//55wptGoLWK+vo95oot7YEDQ2mqitrmFpcQXv3yxjaWEZ72qrIj6aw1mvN/Brbw98HR8foyCXLIzLKornkCQVimfj7usZSAmFXFRRVC7mjY1LaHc6QvDo6AgFhzIQh8J22SmUwdQI6GyOh+1PiOcfQNdMET+T5zKYxEF3d/dUcBi0bFfAv/kPXOaBeQHSmSl45RAO9XA+l1MyCbrdawRZOUBaqSJOK4jjFHGaIa3kKAcRDMs+K2hY/xYc3YcXiUvFzs/D2KiBKwWHF7kT7i6MUyTc5V942abIoyfwktudrhDs939fLuiHsSgzSrITMd4CfraIDcPUYZoGCDGh6xp+/viO4bq0h2U/Eu6CKEEYJXBZWbhzePk0gp/PgWWzkN1pFO1JPHlVR631BSuNz5c4JA78IB44Ew4zeH4ocCmF5U8jmVuDd/8tbrOnuFN+hltkHjeMR7hpPObv0ANxXPFUOFzUj06nnGRVZNVclDvIdRDGASxiwrJNlAwNsipBLSlQNBkFPiVZ1aFoFxmNy5oOSdHEUKKsgmxiEiwIQf0QJjdDPRi2i8LHrS1sNJtotlpXwnM+bG7i+YuX8KMY1ckp6MTGmKxAUjWMK6qg0O/3cXBwcC29Xk9M8ev2N9jMQ5ZPIM1zUD+A5biQS/pA8PDwEP/D/v6+ENze2QGhDCnva5oJl/dkRYgVVQ1/AHTkqsRr3l24AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interface Android Studio pour confirmer le SDK Manager\"\n        title=\"interface Android Studio pour confirmer le SDK Manager\"\n        src=\"/blog/static/4f159690e9575f46a5894234a650d4a1/fcda8/sdk_manager.png\"\n        srcset=\"/blog/static/4f159690e9575f46a5894234a650d4a1/12f09/sdk_manager.png 148w,\n/blog/static/4f159690e9575f46a5894234a650d4a1/e4a3f/sdk_manager.png 295w,\n/blog/static/4f159690e9575f46a5894234a650d4a1/fcda8/sdk_manager.png 590w,\n/blog/static/4f159690e9575f46a5894234a650d4a1/efc66/sdk_manager.png 885w,\n/blog/static/4f159690e9575f46a5894234a650d4a1/c83ae/sdk_manager.png 1180w,\n/blog/static/4f159690e9575f46a5894234a650d4a1/10ab7/sdk_manager.png 1552w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Dans l'onglet \"SDK Tools\" de la nouvelle fenêtre qui s'ouvre, nous décochons \"Hide Obsolet Packages\" pour afficher voir s'afficher l'option <strong>Android SDK Tools (Obsolete)</strong>.</p>\n<p>A noter aussi où se trouve le SDK /Users/celine/Library/Android/sdk.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/e707f67914ed636fe740673e3dfbdb36/7be33/sdk_location.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACR0lEQVQ4y4WT2ZLcIAxF+6vSizfAYIP3Bdu9JHnO///ATUm0e6ZrJpUHlTGgg3QlHXTRwNY9tG1gag9dTShcB1cPKGyLRBQ4xxKXVLwsyiRiVSDOLSJlEecOkdB8dqi6HqNf0I4zhuWG3l8x+AXDTHsTumlm6yePdgj/TT9Clw6ZynFOUlzI0iwAs9yg6gZUbQ/XtKi7HkXVQBWWTVuHvHQwroZre17TOfnQOfnvlsgch3OSQegC47JyBHQxVRqxUHyB0gupSt47xSlDr49fqLsB5E/7dI+MgUSf1o1TtE2Lsm5DJK5m+Gf96H5eWKy3B0gueuDjUfEEasMR9rMPuo0Tw1inXDOEoiV4iPAJbAmYvaJ7AUmL0a9Yrnf+llULkZdIhEEsApAg9NgxSjj65XrjVPeqvwHJeZg2TP6OftwwLw803YwflwzHS8ZRkSwE2jVcbndOnfy/AOnyvG7w2w3TsmH0Yd2NM1zbcdEo9Y+ihJTrfnxp+A7UBn67Yl6DUeoMnGYu0N5G32v4HyBpSFFSBSkyciAjmDLlO7D7F5BT3oELyrphffa22XuV1ntRtvuD+/D0nYbSlFy16+Mnjxyl6ZqOUyI4NbXQBoWrEAsJqS3m9c5TRBGeuT+DHYiaSMUaGVshUzoMv5DPL00BNW0OZUYUtkemLEzZQqgKqdT8mNQaqVQBuE8Av5Zkb5MR+kzgFAscI4s0c5Cqhil7pJllXfOyQtF6SNsF4K7BZy2+/gd4KJBBN3pIU0DkOSJZIhr/4NL8xl/GLEO9IpgwwgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interface Android Studio qui indique la localisation du SDK\"\n        title=\"interface Android Studio qui indique la localisation du SDK\"\n        src=\"/blog/static/e707f67914ed636fe740673e3dfbdb36/fcda8/sdk_location.png\"\n        srcset=\"/blog/static/e707f67914ed636fe740673e3dfbdb36/12f09/sdk_location.png 148w,\n/blog/static/e707f67914ed636fe740673e3dfbdb36/e4a3f/sdk_location.png 295w,\n/blog/static/e707f67914ed636fe740673e3dfbdb36/fcda8/sdk_location.png 590w,\n/blog/static/e707f67914ed636fe740673e3dfbdb36/efc66/sdk_location.png 885w,\n/blog/static/e707f67914ed636fe740673e3dfbdb36/c83ae/sdk_location.png 1180w,\n/blog/static/e707f67914ed636fe740673e3dfbdb36/7be33/sdk_location.png 1558w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Cette étape où nous devons spécifier un SDK antérieur à la dernière version est un problème connu de Flutter \"This is a <a href=\"https://github.com/flutter/flutter/issues/51712\">known issue</a> that will be addressed in an upcoming version of Flutter\".</p>\n<p>A l'état actuel, Flutter ne détectera pas encore le SDK:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter doctor\n\nDoctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel stable, v1.12.13+hotfix.8, on Mac OS X 10.15.3 19D76,\n    locale en-FR)\n[!] Android toolchain - develop for Android devices (Android SDK version 29.0.3)\n    ✗ Android SDK file not found: adb.</code></pre></div>\n<p>Il faut encore déclarer nos variable d'environnement dans notre $HOME/.bash_profile. Ce qui abouti au fichier suivant:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Dans$HOME/.bash_profile\nexport FLUTTER_PATH=/workspace/flutter/bin export ANDROID_HOME=/Users/celine/Library/Android/sdk export PATH=\"$PATH:$FLUTTER_PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools\"</code></pre></div>\n<blockquote>\n<p>Remarquons ici l'exécutable adb se trouve dans $ANDROID_HOME/platform-tools/platform-tools/adb (oui il y a un dossier platform-tools dans le dossier platform-tools).</p>\n</blockquote>\n<blockquote>\n<p>Même en spécifiant le chemin export PATH=\"$PATH:$FLUTTER_PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools/platform-tools\" dans le .bash_profile, flutter ne trouve pas l'exécutable adb.</p>\n</blockquote>\n<blockquote>\n<p>Il a donc fallu remonter le sous-dossier platform-tools au niveau du $ANDROID_HOME.</p>\n</blockquote>\n<p>Exécuter ensuite la commande suivante pour accepter les licenses:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ flutter doctor --android-licenses</code></pre></div>\n<p>Et voilà! Flutter est maintenant configuré correctement. flutter doctor confirme que l'installation s'est bien passé:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Doctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel beta, v1.15.17, on Mac OS X 10.15.3 19D76, locale en-FR)\n[✓] Android toolchain - develop for Android devices (Android SDK version 29.0.3)</code></pre></div>\n<p>Prochaine étape: <a href=\"https://celineung.github.com/blog/lancement-de-flutter\">démarrer ma première application Flutter sur mon téléphone Android</a> !</p>"}},{"node":{"id":"90c3f4b0-1ffa-501e-85cf-94c8c3ed1a2c","frontmatter":{"category":"JAVA","date":"2019-12-19","illustration":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAEe2AQgV//EABoQAQADAAMAAAAAAAAAAAAAAAECAwQAEiL/2gAIAQEAAQUC0CXZ2Q2S7T2eB0LDn//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAQABBQEAAAAAAAAAAAAAAAEAAhAREjFh/9oACAEBAAY/An2JXkIspwd7NdQt/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERITFx/9oACAEBAAE/IZJcUtjNVZBuNj0I29K0myHtHh//2gAMAwEAAgADAAAAEKjv/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARQf/aAAgBAwEBPxATV//EABcRAQADAAAAAAAAAAAAAAAAAAEQETH/2gAIAQIBAT8Qtwj/xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMUFxUWGh8P/aAAgBAQABPxCpQANfu5SAIrAt8e6h39bTeyEhXgIAxnuY0xtSKOL19lKGcHmf/9k=","aspectRatio":1.5037593984962405,"src":"/blog/static/af9e9b506e9c71b2eea01f482233cca8/14b42/coding_on_laptop.jpg","srcSet":"/blog/static/af9e9b506e9c71b2eea01f482233cca8/f836f/coding_on_laptop.jpg 200w,\n/blog/static/af9e9b506e9c71b2eea01f482233cca8/2244e/coding_on_laptop.jpg 400w,\n/blog/static/af9e9b506e9c71b2eea01f482233cca8/14b42/coding_on_laptop.jpg 800w,\n/blog/static/af9e9b506e9c71b2eea01f482233cca8/d8343/coding_on_laptop.jpg 925w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"equals-vs-hashcode","title":"Différencier equals et hashcode"},"excerpt":"java.lang.Object possède une méthode equals() et une méthode hashcode(). Cet article abordera la différence entre ces deux méthodes et…","html":"<p>java.lang.Object possède une méthode equals() et une méthode hashcode(). Cet article abordera la différence entre ces deux méthodes et pourquoi les surcharger en Java.</p>\n<p>##equals</p>\n<p>Cette méthode vérifie si deux objets sont égaux en utilisant \"==\", c'est-à-dire qu'elle vérifie si deux objets ont la même référence:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Par conséquent, deux objets ayant les mêmes propriétés ne seront pas égaux si l'on fait simplement appel à la méthode equals() sans l'overrider:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">shouldVerifyInequalityOfObjectsWithEquals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Car</span> car1 <span class=\"token operator\">=</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">nbSeats</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Car</span> car2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">nbSeats</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>car1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>car2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isFalse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>##hashcode</p>\n<p>Comme l'indique sa documentation, \"the hashCode method [...] does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer [...]\".</p>\n<p>hashcode fait correspondre l'adresse mémoire d'un objet avec une valeur entière. Des objets avec des adresses mémoires différentes ne devraient par conséquent pas avoir le même hashcode. Ce test permet de vérifier cela:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">shouldVerifyInequalityOfObjectsWithHashcode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Car</span> car1 <span class=\"token operator\">=</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">nbSeats</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Car</span> car2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">nbSeats</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>car1<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNotEqualTo</span><span class=\"token punctuation\">(</span>car2<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>La méthode hashcode doit suivre le contrat suivant (spécifié dans la Javadoc):</p>\n<ul>\n<li>chaque fois qu'elle est appelée sur un même objet, elle devra retourner la même valeur si aucune de ses propriétés n'a été modifiée</li>\n<li>si deux objets sont égaux via la méthode equals(), alors l'appel à hashcode() sur chacun de ces deux objets doit retourner la même valeur entière</li>\n<li>il n'est pas obligatoire d'avoir deux hashcode distincts pour deux objets inégaux via equals()</li>\n</ul>\n<p>A remarquer que deux objets ayant le même hashcode ne sont pas nécessairement égaux via equals().</p>\n<p>##surcharger equals</p>\n<p>Surcharger la méthode equals permet de changer le comportement de la méthode, afin de distinguer l'égalité objet de l'égalité fonctionnelle.</p>\n<p>Considérons un objet de type Car. Nous souhaitons que deux voitures de même plaque d'immatriculation licensePlate soient identifiées comme étant la même voiture. Dans la classe Car, la méthode equals() est alors surchargée pour prendre en compte ce besoin:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Override</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">boolean</span> functionalEquality <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Car</span> car <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Car</span><span class=\"token punctuation\">)</span> obj<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>car<span class=\"token punctuation\">.</span>licensePlate <span class=\"token operator\">==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>licensePlate<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        functionalEquality <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> functionalEquality<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>En reproduisant notre test, deux objets ayant la même plaque d'immatriculation sont désormais égaux via equals().</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">shouldVerifyInequalityOfObjectsWithEquals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Car</span> car1 <span class=\"token operator\">=</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">nbSeats</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Car</span> car2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">nbSeats</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>car1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>car2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isTrue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>##surcharger hashcode</p>\n<p>Lorsque equals ou hashcode est surchargé, alors les deux doivent l'être.</p>\n<p>equals() vérifie si deux objets ont la même identité, et par défaut hashcode retourne un entier en se basant sur cette identité.</p>\n<p>Si deux objets n'ont pas le même hashcode → alors sûrement ces deux objets ne sont pas égaux via equals().</p>\n<p>Surcharger l'un sans l'autre peut conduire à des comportements non souhaité :</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">shouldShowOverridingEqualsNeedsOverrideHashcode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">HashMap</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ABC\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//est-ce le comportement souhaité?</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>##combiner equals et hashcode pour un set</p>\n<p>Pour rappel, notre classe Car ne surcharge que la méthode equals pour le moment.</p>\n<p>Que se passe-t-il lorsque l'on insère deux objets identiques fonctionnellement dans un Set?</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">shouldHaveDifferentHashcodeForFunctionallySameObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Set</span> set <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    set<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//hashcode = 1384210339</span>\n    set<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//hashcode = 1345401730</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>set<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//est-ce le comportement souhaité?</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>un premier élément est créé avec un hashcode 1384210339\naucun autre élément dans le set n'existe avec un hashcode de 1384210339, il est donc inséré dans le set\nun deuxième élément est créer avec un hashcode de 1345401730\naucun autre élément dans le set n'existe avec un hashcode de 1345401730, il est donc inséré dans le set</p>\n<p>Résultat: le set contient les deux éléments à la fin du test</p>\n<p>Si les hashcodes des deux objets avaient été le même, alors la méthode equals() aurait été appelée pour vérifier l'égalité des objets.</p>\n<p>Pour prouver cela, la méthode hashcode() est surchargée dans la classe Car:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Override</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> licensePlate<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Et le test devient:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">shouldHaveSameHashcodeForFunctionallySameObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Set</span> set <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    set<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//hashcode = 777</span>\n    set<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Car</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">licensePlate</span><span class=\"token punctuation\">(</span><span class=\"token number\">777</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//hashcode = 777</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>set<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>un premier élément est créé avec un hashcode 777\naucun autre élément dans le set n'existe avec un hashcode de 777, il est donc inséré dans le set\nun deuxième élément est créé avec un hashcode de 777\nun autre élément dans le set existe avec un hashcode de 777, il n'est donc pas inséré dans le set</p>\n<p>Résultat: le set contient un seul élément à la fin du test</p>"}}]}},"pageContext":{}},"staticQueryHashes":["3649515864","764694655"]}